library(blogdown)
new_site(theme = "gcushen/hugo-academic")
serve_site()
library(blogdown)
blogdown:::new_post_addin()
load("~/merged_rides_.csv")
library(readr)
merged_rides_ <- read_csv("~/merged_rides_.csv")
View(merged_rides_)
library(readr)
metadata <- read_csv("~/metadata.csv")
View(metadata)
?setwd
setwd("~")
library(blogdown)
build_site(local = FALSE)
setwd("~/academic1")
build_site(local = FALSE)
build_site(local = FALSE)
library(blogdown)
build_site(local = FALSE)
build_site(local = FALSE)
serve_site()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
meta<-read_csv("metadata.csv")
setwd('/Users/mikaylaedwards/academic1/content/post')
meta<-read_csv("metadata.csv")
merged_rides<- read_csv("merged_rides_.csv")
merged_rides$datetime <- as_datetime(merged_rides$datetime)
skim(merged_rides)
?skim
merged_rides %>% gather(key="ride",value="wait_time",-datetime) %>%
ggplot(aes(ride, wait_time, group = ride)) +
geom_boxplot(colour = "black", fill = "#56B4E9",notch = T) +
ylab("Wait time")
rides1<-merged_rides%>%
mutate(hour=hour(datetime),
date=date(datetime)) %>%
group_by(hour,date)%>% filter(hour<21 & hour>8) %>%
summarize_at(
vars(toy_story_mania:soarin),
~mean(.,na.rm =TRUE)
)
head(rides1)
rides1 %>%
select_if(is.numeric) %>%
cor() %>%
corrplot(type = "upper", order = "hclust",addCoef.col = "black",
tl.col = "black", tl.srt = 45)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
meta<-read_csv("metadata.csv")
setwd("~/academic1/content/post")
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
meta<-read_csv("metadata.csv")
merged_rides<- read_csv("merged_rides_.csv")
merged_rides$datetime <- as_datetime(merged_rides$datetime)
skim(merged_rides)
kable(head(merged_rides))
merged_rides %>% gather(key="ride",value="wait_time",-datetime) %>%
ggplot(aes(ride, wait_time, group = ride)) +
geom_boxplot(colour = "black", fill = "#56B4E9",notch = T) +
ylab("Wait time")
rides1<-merged_rides%>%
mutate(hour=hour(datetime),
date=date(datetime)) %>%
group_by(hour,date)%>% filter(hour<21 & hour>8) %>%
summarize_at(
vars(toy_story_mania:soarin),
~mean(.,na.rm =TRUE)
)
avg_by_month <- rides1 %>%
mutate(month = month(date, label = TRUE)) %>%
group_by(month) %>%
summarize_at(vars(toy_story_mania:soarin),
~ mean(., na.rm = TRUE))
avg_by_month %>% gather(key="ride",value="avg_wait",-month,) %>%
ggplot(aes(x=month,y=avg_wait,color=ride)) + geom_line(aes(group = ride)) +
geom_point() + xlab("Month")
##Looking at MK
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
rides2<-rides1 %>% select(seven_dwarfs,rockin_rollercoaster,-date)%>% gather(key="ride",value="avg_wait_byhour",-hour)
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
library(forcats)
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
setwd('/Users/mikaylaedwards/academic1/content/post')
meta<-read_csv("metadata.csv")
merged_rides<- read_csv("merged_rides_.csv")
merged_rides$datetime <- as_datetime(merged_rides$datetime)
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
library(forcats)
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
head(meta1)
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
kabble(head(meta1))
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
kable(head(meta1))
install.packages('kableExtra')
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
library(forcats)
library(kableExtra)
kable(head(merged_rides)) %>%   kable_styling(bootstrap_options = "striped", full_width = F)
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
kable(head(meta1)) %>% kable_styling(bootstrap_options = "striped", full_width = F)
build_site()
build_site(local=FALSE)
library(blogdown)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
library(forcats)
library(kableExtra)
meta<-read_csv("metadata.csv")
merged_rides<- read_csv("merged_rides_.csv")
merged_rides$datetime <- as_datetime(merged_rides$datetime)
kable(head(merged_rides)) %>%   kable_styling(bootstrap_options = "striped", full_width = F)
merged_rides %>% gather(key="ride",value="wait_time",-datetime) %>%
ggplot(aes(ride, wait_time, group = ride)) +
geom_boxplot(colour = "black", fill = "#56B4E9",notch = T) +
ylab("Wait time")
rides1<-merged_rides%>%
mutate(hour=hour(datetime),
date=date(datetime)) %>%
group_by(hour,date)%>% filter(hour<21 & hour>8) %>%
summarize_at(
vars(toy_story_mania:soarin),
~mean(.,na.rm =TRUE)
)
avg_by_month <- rides1 %>%
mutate(month = month(date, label = TRUE)) %>%
group_by(month) %>%
summarize_at(vars(toy_story_mania:soarin),
~ mean(., na.rm = TRUE))
avg_by_month %>% gather(key="ride",value="avg_wait",-month,) %>%
ggplot(aes(x=month,y=avg_wait,color=ride)) + geom_line(aes(group = ride)) +
geom_point() + xlab("Month")
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
kable(head(meta1)) %>% kable_styling(bootstrap_options = "striped", full_width = F)
mrides<-rides1 %>%
merge(meta1,by="date")%>%
arrange(date,hour) %>% mutate(
hour=as.factor(hour),
month=as.factor(month(date)),
year=as.factor(year(date)))
build_site(local = FALSE)
getwd()
setwd("/Users/mikaylaedwards/academic1")
build_site()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
library(forcats)
library(kableExtra)
meta<-read_csv("metadata.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(corrplot)
library(caret)
library(skimr)
library(ModelMetrics)
library(janitor)
library(broom)
library(forcats)
library(kableExtra)
meta<-read_csv("metadata.csv")
merged_rides<- read_csv("merged_rides_.csv")
merged_rides$datetime <- as_datetime(merged_rides$datetime)
kable(head(merged_rides)) %>%   kable_styling(font_size = 7,bootstrap_options = "striped", full_width = F)
merged_rides %>% gather(key="ride",value="wait_time",-datetime) %>%
ggplot(aes(ride, wait_time, group = ride)) +
geom_boxplot(colour = "black", fill = "#56B4E9",notch = T) +
ylab("Wait time")
rides1<-merged_rides%>%
mutate(hour=hour(datetime),
date=date(datetime)) %>%
group_by(hour,date)%>% filter(hour<21 & hour>8) %>%
summarize_at(
vars(toy_story_mania:soarin),
~mean(.,na.rm =TRUE)
)
avg_by_month <- rides1 %>%
mutate(month = month(date, label = TRUE)) %>%
group_by(month) %>%
summarize_at(vars(toy_story_mania:soarin),
~ mean(., na.rm = TRUE))
avg_by_month %>% gather(key="ride",value="avg_wait",-month,) %>%
ggplot(aes(x=month,y=avg_wait,color=ride)) + geom_line(aes(group = ride)) +
geom_point() + xlab("Month")
rides1 %>%
keep(is.numeric) %>%
gather(key="ride",value="wait",-hour) %>%
ggplot(aes(x = wait, fill = as.factor(ride))) +
geom_density(alpha = .3)+xlim(5,220)+ labs(title="Wait Time Dist.")+scale_fill_discrete(name="Ride")
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
kable(head(meta1)) %>% kable_styling(bootstrap_options = "striped", full_width = F,font_size = 7)
##selecting features to explore
meta1<-meta %>% select(DATE, contains('event'),-contains('eventN'),contains('HOLIDAY'),-contains('DAYS'),-contains('STREAK'),-HOLIDAYJ)
meta1$date<-as.character(meta1$DATE)
meta1$date <-ymd(mdy(meta1$date))
meta1$DATE<-NULL
meta1<-meta1 %>% clean_names()
meta1$holidayn<-fct_explicit_na(meta1$holidayn, "no holiday")
mrides<-rides1 %>%
merge(meta1,by="date")%>%
arrange(date,hour) %>% mutate(
hour=as.factor(hour),
month=as.factor(month(date)),
year=as.factor(year(date)))
kable(head(mrides)) %>% kable_styling(bootstrap_options = "striped", full_width = F,font_size = 7)
