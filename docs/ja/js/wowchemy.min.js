(() => {
  // <stdin>
  /*! Wowchemy v5.0.0-beta.3 | https://wowchemy.com/ */
  /*! Copyright 2016-present George Cushen (https://georgecushen.com/) */
  /*! License: https://github.com/wowchemy/wowchemy-hugo-modules/blob/main/LICENSE.md */
  (() => {
    /*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var isSupported = function isSupported2(node) {
      return node.tagName === "IMG";
    };
    var isNodeList = function isNodeList2(selector) {
      return NodeList.prototype.isPrototypeOf(selector);
    };
    var isNode = function isNode2(selector) {
      return selector && selector.nodeType === 1;
    };
    var isSvg = function isSvg2(image) {
      var source = image.currentSrc || image.src;
      return source.substr(-4).toLowerCase() === ".svg";
    };
    var getImagesFromSelector = function getImagesFromSelector2(selector) {
      try {
        if (Array.isArray(selector)) {
          return selector.filter(isSupported);
        }
        if (isNodeList(selector)) {
          return [].slice.call(selector).filter(isSupported);
        }
        if (isNode(selector)) {
          return [selector].filter(isSupported);
        }
        if (typeof selector === "string") {
          return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);
        }
        return [];
      } catch (err) {
        throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom");
      }
    };
    var createOverlay = function createOverlay2(background) {
      var overlay = document.createElement("div");
      overlay.classList.add("medium-zoom-overlay");
      overlay.style.background = background;
      return overlay;
    };
    var cloneTarget = function cloneTarget2(template) {
      var _template$getBounding = template.getBoundingClientRect(), top = _template$getBounding.top, left = _template$getBounding.left, width = _template$getBounding.width, height = _template$getBounding.height;
      var clone = template.cloneNode();
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
      clone.removeAttribute("id");
      clone.style.position = "absolute";
      clone.style.top = top + scrollTop + "px";
      clone.style.left = left + scrollLeft + "px";
      clone.style.width = width + "px";
      clone.style.height = height + "px";
      clone.style.transform = "";
      return clone;
    };
    var createCustomEvent = function createCustomEvent2(type, params) {
      var eventParams = _extends({
        bubbles: false,
        cancelable: false,
        detail: void 0
      }, params);
      if (typeof window.CustomEvent === "function") {
        return new CustomEvent(type, eventParams);
      }
      var customEvent = document.createEvent("CustomEvent");
      customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);
      return customEvent;
    };
    var mediumZoomEsm = function mediumZoom(selector) {
      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      var Promise2 = window.Promise || function Promise3(fn) {
        function noop() {
        }
        fn(noop, noop);
      };
      var _handleClick = function _handleClick2(event) {
        var target = event.target;
        if (target === overlay) {
          close();
          return;
        }
        if (images.indexOf(target) === -1) {
          return;
        }
        toggle({target});
      };
      var _handleScroll = function _handleScroll2() {
        if (isAnimating || !active.original) {
          return;
        }
        var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {
          setTimeout(close, 150);
        }
      };
      var _handleKeyUp = function _handleKeyUp2(event) {
        var key = event.key || event.keyCode;
        if (key === "Escape" || key === "Esc" || key === 27) {
          close();
        }
      };
      var update = function update2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        var newOptions = options2;
        if (options2.background) {
          overlay.style.background = options2.background;
        }
        if (options2.container && options2.container instanceof Object) {
          newOptions.container = _extends({}, zoomOptions.container, options2.container);
        }
        if (options2.template) {
          var template = isNode(options2.template) ? options2.template : document.querySelector(options2.template);
          newOptions.template = template;
        }
        zoomOptions = _extends({}, zoomOptions, newOptions);
        images.forEach(function(image) {
          image.dispatchEvent(createCustomEvent("medium-zoom:update", {
            detail: {zoom}
          }));
        });
        return zoom;
      };
      var clone = function clone2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        return mediumZoomEsm(_extends({}, zoomOptions, options2));
      };
      var attach = function attach2() {
        for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {
          selectors[_key] = arguments[_key];
        }
        var newImages = selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []);
        newImages.filter(function(newImage) {
          return images.indexOf(newImage) === -1;
        }).forEach(function(newImage) {
          images.push(newImage);
          newImage.classList.add("medium-zoom-image");
        });
        eventListeners.forEach(function(_ref) {
          var type = _ref.type, listener = _ref.listener, options2 = _ref.options;
          newImages.forEach(function(image) {
            image.addEventListener(type, listener, options2);
          });
        });
        return zoom;
      };
      var detach = function detach2() {
        for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          selectors[_key2] = arguments[_key2];
        }
        if (active.zoomed) {
          close();
        }
        var imagesToDetach = selectors.length > 0 ? selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []) : images;
        imagesToDetach.forEach(function(image) {
          image.classList.remove("medium-zoom-image");
          image.dispatchEvent(createCustomEvent("medium-zoom:detach", {
            detail: {zoom}
          }));
        });
        images = images.filter(function(image) {
          return imagesToDetach.indexOf(image) === -1;
        });
        return zoom;
      };
      var on = function on2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.addEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners.push({type: "medium-zoom:" + type, listener, options: options2});
        return zoom;
      };
      var off = function off2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.removeEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners = eventListeners.filter(function(eventListener) {
          return !(eventListener.type === "medium-zoom:" + type && eventListener.listener.toString() === listener.toString());
        });
        return zoom;
      };
      var open = function open2() {
        var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref2.target;
        var _animate = function _animate2() {
          var container = {
            width: document.documentElement.clientWidth,
            height: document.documentElement.clientHeight,
            left: 0,
            top: 0,
            right: 0,
            bottom: 0
          };
          var viewportWidth = void 0;
          var viewportHeight = void 0;
          if (zoomOptions.container) {
            if (zoomOptions.container instanceof Object) {
              container = _extends({}, container, zoomOptions.container);
              viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;
              viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;
            } else {
              var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);
              var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(), _width = _zoomContainer$getBou.width, _height = _zoomContainer$getBou.height, _left = _zoomContainer$getBou.left, _top = _zoomContainer$getBou.top;
              container = _extends({}, container, {
                width: _width,
                height: _height,
                left: _left,
                top: _top
              });
            }
          }
          viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;
          viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;
          var zoomTarget = active.zoomedHd || active.original;
          var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;
          var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;
          var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(), top = _zoomTarget$getBoundi.top, left = _zoomTarget$getBoundi.left, width = _zoomTarget$getBoundi.width, height = _zoomTarget$getBoundi.height;
          var scaleX = Math.min(naturalWidth, viewportWidth) / width;
          var scaleY = Math.min(naturalHeight, viewportHeight) / height;
          var scale = Math.min(scaleX, scaleY);
          var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;
          var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;
          var transform = "scale(" + scale + ") translate3d(" + translateX + "px, " + translateY + "px, 0)";
          active.zoomed.style.transform = transform;
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = transform;
          }
        };
        return new Promise2(function(resolve) {
          if (target && images.indexOf(target) === -1) {
            resolve(zoom);
            return;
          }
          var _handleOpenEnd = function _handleOpenEnd2() {
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleOpenEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:opened", {
              detail: {zoom}
            }));
            resolve(zoom);
          };
          if (active.zoomed) {
            resolve(zoom);
            return;
          }
          if (target) {
            active.original = target;
          } else if (images.length > 0) {
            var _images = images;
            active.original = _images[0];
          } else {
            resolve(zoom);
            return;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:open", {
            detail: {zoom}
          }));
          scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
          isAnimating = true;
          active.zoomed = cloneTarget(active.original);
          document.body.appendChild(overlay);
          if (zoomOptions.template) {
            var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);
            active.template = document.createElement("div");
            active.template.appendChild(template.content.cloneNode(true));
            document.body.appendChild(active.template);
          }
          document.body.appendChild(active.zoomed);
          window.requestAnimationFrame(function() {
            document.body.classList.add("medium-zoom--opened");
          });
          active.original.classList.add("medium-zoom-image--hidden");
          active.zoomed.classList.add("medium-zoom-image--opened");
          active.zoomed.addEventListener("click", close);
          active.zoomed.addEventListener("transitionend", _handleOpenEnd);
          if (active.original.getAttribute("data-zoom-src")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("srcset");
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.src = active.zoomed.getAttribute("data-zoom-src");
            active.zoomedHd.onerror = function() {
              clearInterval(getZoomTargetSize);
              console.warn("Unable to reach the zoom image target " + active.zoomedHd.src);
              active.zoomedHd = null;
              _animate();
            };
            var getZoomTargetSize = setInterval(function() {
              if (active.zoomedHd.complete) {
                clearInterval(getZoomTargetSize);
                active.zoomedHd.classList.add("medium-zoom-image--opened");
                active.zoomedHd.addEventListener("click", close);
                document.body.appendChild(active.zoomedHd);
                _animate();
              }
            }, 10);
          } else if (active.original.hasAttribute("srcset")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.removeAttribute("loading");
            var loadEventListener = active.zoomedHd.addEventListener("load", function() {
              active.zoomedHd.removeEventListener("load", loadEventListener);
              active.zoomedHd.classList.add("medium-zoom-image--opened");
              active.zoomedHd.addEventListener("click", close);
              document.body.appendChild(active.zoomedHd);
              _animate();
            });
          } else {
            _animate();
          }
        });
      };
      var close = function close2() {
        return new Promise2(function(resolve) {
          if (isAnimating || !active.original) {
            resolve(zoom);
            return;
          }
          var _handleCloseEnd = function _handleCloseEnd2() {
            active.original.classList.remove("medium-zoom-image--hidden");
            document.body.removeChild(active.zoomed);
            if (active.zoomedHd) {
              document.body.removeChild(active.zoomedHd);
            }
            document.body.removeChild(overlay);
            active.zoomed.classList.remove("medium-zoom-image--opened");
            if (active.template) {
              document.body.removeChild(active.template);
            }
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleCloseEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:closed", {
              detail: {zoom}
            }));
            active.original = null;
            active.zoomed = null;
            active.zoomedHd = null;
            active.template = null;
            resolve(zoom);
          };
          isAnimating = true;
          document.body.classList.remove("medium-zoom--opened");
          active.zoomed.style.transform = "";
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = "";
          }
          if (active.template) {
            active.template.style.transition = "opacity 150ms";
            active.template.style.opacity = 0;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:close", {
            detail: {zoom}
          }));
          active.zoomed.addEventListener("transitionend", _handleCloseEnd);
        });
      };
      var toggle = function toggle2() {
        var _ref3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref3.target;
        if (active.original) {
          return close();
        }
        return open({target});
      };
      var getOptions = function getOptions2() {
        return zoomOptions;
      };
      var getImages = function getImages2() {
        return images;
      };
      var getZoomedImage = function getZoomedImage2() {
        return active.original;
      };
      var images = [];
      var eventListeners = [];
      var isAnimating = false;
      var scrollTop = 0;
      var zoomOptions = options;
      var active = {
        original: null,
        zoomed: null,
        zoomedHd: null,
        template: null
      };
      if (Object.prototype.toString.call(selector) === "[object Object]") {
        zoomOptions = selector;
      } else if (selector || typeof selector === "string") {
        attach(selector);
      }
      zoomOptions = _extends({
        margin: 0,
        background: "#fff",
        scrollOffset: 40,
        container: null,
        template: null
      }, zoomOptions);
      var overlay = createOverlay(zoomOptions.background);
      document.addEventListener("click", _handleClick);
      document.addEventListener("keyup", _handleKeyUp);
      document.addEventListener("scroll", _handleScroll);
      window.addEventListener("resize", close);
      var zoom = {
        open,
        close,
        toggle,
        update,
        clone,
        attach,
        detach,
        on,
        off,
        getOptions,
        getImages,
        getZoomedImage
      };
      return zoom;
    };
    function styleInject(css2, ref) {
      if (ref === void 0)
        ref = {};
      var insertAt = ref.insertAt;
      if (!css2 || typeof document === "undefined") {
        return;
      }
      var head = document.head || document.getElementsByTagName("head")[0];
      var style = document.createElement("style");
      style.type = "text/css";
      if (insertAt === "top") {
        if (head.firstChild) {
          head.insertBefore(style, head.firstChild);
        } else {
          head.appendChild(style);
        }
      } else {
        head.appendChild(style);
      }
      if (style.styleSheet) {
        style.styleSheet.cssText = css2;
      } else {
        style.appendChild(document.createTextNode(css2));
      }
    }
    var css = ".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";
    styleInject(css);
    var medium_zoom_esm_default = mediumZoomEsm;
    var codeHighlighting = true;
    var hugoEnvironment = "development";
    var searchEnabled = true;
    function fixMermaid(render = false) {
      let mermaids = [];
      [].push.apply(mermaids, document.getElementsByClassName("language-mermaid"));
      for (let i = 0; i < mermaids.length; i++) {
        let mermaidCodeElement = mermaids[i];
        let newElement = document.createElement("div");
        newElement.innerHTML = mermaidCodeElement.innerHTML;
        newElement.classList.add("mermaid");
        if (render) {
          window.mermaid.mermaidAPI.render(`mermaid-${i}`, newElement.textContent, function(svgCode) {
            newElement.innerHTML = svgCode;
          });
        }
        mermaidCodeElement.parentNode.replaceWith(newElement);
      }
      console.debug(`Processed ${mermaids.length} Mermaid code blocks`);
    }
    function scrollParentToChild(parent, child) {
      const parentRect = parent.getBoundingClientRect();
      const parentViewableArea = {
        height: parent.clientHeight,
        width: parent.clientWidth
      };
      const childRect = child.getBoundingClientRect();
      const isChildInView = childRect.top >= parentRect.top && childRect.bottom <= parentRect.top + parentViewableArea.height;
      if (!isChildInView) {
        parent.scrollTop = childRect.top + parent.scrollTop - parentRect.top;
      }
    }
    function fadeIn(element, duration = 600) {
      element.style.display = "";
      element.style.opacity = "0";
      let last = +new Date();
      let tick = function() {
        element.style.opacity = (+element.style.opacity + (new Date() - last) / duration).toString();
        last = +new Date();
        if (+element.style.opacity < 1) {
          window.requestAnimationFrame && requestAnimationFrame(tick) || setTimeout(tick, 16);
        }
      };
      tick();
    }
    var body = document.body;
    function getThemeMode() {
      return parseInt(localStorage.getItem("wcTheme") || 2);
    }
    function canChangeTheme() {
      return Boolean(window.wc.darkLightEnabled);
    }
    function initThemeVariation() {
      if (!canChangeTheme()) {
        console.debug("User theming disabled.");
        return {
          isDarkTheme: window.wc.isSiteThemeDark,
          themeMode: window.wc.isSiteThemeDark ? 1 : 0
        };
      }
      console.debug("User theming enabled.");
      let isDarkTheme;
      let currentThemeMode = getThemeMode();
      console.debug(`User's theme variation: ${currentThemeMode}`);
      switch (currentThemeMode) {
        case 0:
          isDarkTheme = false;
          break;
        case 1:
          isDarkTheme = true;
          break;
        default:
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          break;
      }
      if (isDarkTheme && !body.classList.contains("dark")) {
        console.debug("Applying Wowchemy dark theme");
        document.body.classList.add("dark");
      } else if (!isDarkTheme && body.classList.contains("dark")) {
        console.debug("Applying Wowchemy light theme");
        document.body.classList.remove("dark");
      }
      return {
        isDarkTheme,
        themeMode: currentThemeMode
      };
    }
    function changeThemeModeClick(newMode) {
      if (!canChangeTheme()) {
        console.debug("Cannot change theme - user theming disabled.");
        return;
      }
      let isDarkTheme;
      switch (newMode) {
        case 0:
          localStorage.setItem("wcTheme", "0");
          isDarkTheme = false;
          console.debug("User changed theme variation to Light.");
          break;
        case 1:
          localStorage.setItem("wcTheme", "1");
          isDarkTheme = true;
          console.debug("User changed theme variation to Dark.");
          break;
        default:
          localStorage.setItem("wcTheme", "2");
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          console.debug("User changed theme variation to Auto.");
          break;
      }
      renderThemeVariation(isDarkTheme, newMode);
    }
    function showActiveTheme(mode) {
      let linkLight2 = document.querySelector(".js-set-theme-light");
      let linkDark2 = document.querySelector(".js-set-theme-dark");
      let linkAuto2 = document.querySelector(".js-set-theme-auto");
      if (linkLight2 === null) {
        return;
      }
      switch (mode) {
        case 0:
          linkLight2.classList.add("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        case 1:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.add("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        default:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.add("dropdown-item-active");
          break;
      }
    }
    function renderThemeVariation(isDarkTheme, themeMode = 2, init = false) {
      const codeHlLight = document.querySelector("link[title=hl-light]");
      const codeHlDark = document.querySelector("link[title=hl-dark]");
      const codeHlEnabled = codeHlLight !== null || codeHlDark !== null;
      const diagramEnabled = document.querySelector("script[title=mermaid]") !== null;
      showActiveTheme(themeMode);
      const themeChangeEvent = new CustomEvent("wcThemeChange", {detail: {isDarkTheme: () => isDarkTheme}});
      document.dispatchEvent(themeChangeEvent);
      if (!init) {
        if (isDarkTheme === false && !body.classList.contains("dark") || isDarkTheme === true && body.classList.contains("dark")) {
          return;
        }
      }
      if (isDarkTheme === false) {
        if (!init) {
          Object.assign(document.body.style, {opacity: 0, visibility: "visible"});
          fadeIn(document.body, 600);
        }
        body.classList.remove("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to light");
          if (codeHlLight) {
            codeHlLight.disabled = false;
          }
          if (codeHlDark) {
            codeHlDark.disabled = true;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with light theme");
          if (init) {
            window.mermaid.initialize({startOnLoad: false, theme: "default", securityLevel: "loose"});
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      } else if (isDarkTheme === true) {
        if (!init) {
          Object.assign(document.body.style, {opacity: 0, visibility: "visible"});
          fadeIn(document.body, 600);
        }
        body.classList.add("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to dark");
          if (codeHlLight) {
            codeHlLight.disabled = true;
          }
          if (codeHlDark) {
            codeHlDark.disabled = false;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with dark theme");
          if (init) {
            window.mermaid.initialize({startOnLoad: false, theme: "dark", securityLevel: "loose"});
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      }
    }
    function onMediaQueryListEvent(event) {
      if (!canChangeTheme()) {
        return;
      }
      const darkModeOn = event.matches;
      console.debug(`OS dark mode preference changed to ${darkModeOn ? "\u{1F312} on" : "\u2600\uFE0F off"}.`);
      let currentThemeVariation = getThemeMode();
      let isDarkTheme;
      if (currentThemeVariation === 2) {
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          isDarkTheme = true;
        } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
          isDarkTheme = false;
        } else {
          isDarkTheme = window.wc.isSiteThemeDark;
        }
        renderThemeVariation(isDarkTheme, currentThemeVariation);
      }
    }
    console.debug(`Environment: ${hugoEnvironment}`);
    function getNavBarHeight() {
      let $navbar = $("#navbar-main");
      let navbar_offset = $navbar.outerHeight();
      console.debug("Navbar height: " + navbar_offset);
      return navbar_offset;
    }
    function scrollToAnchor(target, duration = 0) {
      target = typeof target === "undefined" || typeof target === "object" ? decodeURIComponent(window.location.hash) : target;
      if ($(target).length) {
        target = "#" + $.escapeSelector(target.substring(1));
        let elementOffset = Math.ceil($(target).offset().top - getNavBarHeight());
        $("body").addClass("scrolling");
        $("html, body").animate({
          scrollTop: elementOffset
        }, duration, function() {
          $("body").removeClass("scrolling");
        });
      } else {
        console.debug("Cannot scroll to target `#" + target + "`. ID not found!");
      }
    }
    function fixScrollspy() {
      let $body = $("body");
      let data = $body.data("bs.scrollspy");
      if (data) {
        data._config.offset = getNavBarHeight();
        $body.data("bs.scrollspy", data);
        $body.scrollspy("refresh");
      }
    }
    function removeQueryParamsFromUrl() {
      if (window.history.replaceState) {
        let urlWithoutSearchParams = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.hash;
        window.history.replaceState({path: urlWithoutSearchParams}, "", urlWithoutSearchParams);
      }
    }
    window.addEventListener("hashchange", scrollToAnchor);
    $("#navbar-main li.nav-item a.nav-link, .js-scroll").on("click", function(event) {
      let hash = this.hash;
      if (this.pathname === window.location.pathname && hash && $(hash).length && $(".js-widget-page").length > 0) {
        event.preventDefault();
        let elementOffset = Math.ceil($(hash).offset().top - getNavBarHeight());
        $("html, body").animate({
          scrollTop: elementOffset
        }, 800);
      }
    });
    $(document).on("click", ".navbar-collapse.show", function(e) {
      let targetElement = $(e.target).is("a") ? $(e.target) : $(e.target).parent();
      if (targetElement.is("a") && targetElement.attr("class") != "dropdown-toggle") {
        $(this).collapse("hide");
      }
    });
    var pubFilters = {};
    var searchRegex;
    var filterValues;
    var $grid_pubs = $("#container-publications");
    if ($grid_pubs.length) {
      $grid_pubs.isotope({
        itemSelector: ".isotope-item",
        percentPosition: true,
        masonry: {
          columnWidth: ".grid-sizer"
        },
        filter: function() {
          let $this = $(this);
          let searchResults = searchRegex ? $this.text().match(searchRegex) : true;
          let filterResults = filterValues ? $this.is(filterValues) : true;
          return searchResults && filterResults;
        }
      });
      let $quickSearch = $(".filter-search").keyup(debounce(function() {
        searchRegex = new RegExp($quickSearch.val(), "gi");
        $grid_pubs.isotope();
      }));
      $(".pub-filters").on("change", function() {
        let $this = $(this);
        let filterGroup = $this[0].getAttribute("data-filter-group");
        pubFilters[filterGroup] = this.value;
        filterValues = concatValues(pubFilters);
        $grid_pubs.isotope();
        if (filterGroup === "pubtype") {
          let url = $(this).val();
          if (url.substr(0, 9) === ".pubtype-") {
            window.location.hash = url.substr(9);
          } else {
            window.location.hash = "";
          }
        }
      });
    }
    function debounce(fn, threshold) {
      let timeout;
      threshold = threshold || 100;
      return function debounced() {
        clearTimeout(timeout);
        let args = arguments;
        let _this = this;
        function delayed() {
          fn.apply(_this, args);
        }
        timeout = setTimeout(delayed, threshold);
      };
    }
    function concatValues(obj) {
      let value = "";
      for (let prop in obj) {
        value += obj[prop];
      }
      return value;
    }
    function filter_publications() {
      if (!$grid_pubs.length)
        return;
      let urlHash = window.location.hash.replace("#", "");
      let filterValue = "*";
      if (urlHash != "" && !isNaN(urlHash)) {
        filterValue = ".pubtype-" + urlHash;
      }
      let filterGroup = "pubtype";
      pubFilters[filterGroup] = filterValue;
      filterValues = concatValues(pubFilters);
      $grid_pubs.isotope();
      $(".pubtype-select").val(filterValue);
    }
    function initMap() {
      if ($("#map").length) {
        let map_provider = $("#map-provider").val();
        let lat = $("#map-lat").val();
        let lng = $("#map-lng").val();
        let zoom = parseInt($("#map-zoom").val());
        let address = $("#map-dir").val();
        let api_key = $("#map-api-key").val();
        if (map_provider === "google") {
          let map = new GMaps({
            div: "#map",
            lat,
            lng,
            zoom,
            zoomControl: true,
            zoomControlOpt: {
              style: "SMALL",
              position: "TOP_LEFT"
            },
            streetViewControl: false,
            mapTypeControl: false,
            gestureHandling: "cooperative"
          });
          map.addMarker({
            lat,
            lng,
            click: function() {
              let url = "https://www.google.com/maps/place/" + encodeURIComponent(address) + "/@" + lat + "," + lng + "/";
              window.open(url, "_blank");
            },
            title: address
          });
        } else {
          let map = new L.map("map").setView([lat, lng], zoom);
          if (map_provider === "mapbox" && api_key.length) {
            L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
              attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xA9 <a href="http://mapbox.com">Mapbox</a>',
              tileSize: 512,
              maxZoom: 18,
              zoomOffset: -1,
              id: "mapbox/streets-v11",
              accessToken: api_key
            }).addTo(map);
          } else {
            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
              maxZoom: 19,
              attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);
          }
          let marker = L.marker([lat, lng]).addTo(map);
          let url = lat + "," + lng + "#map=" + zoom + "/" + lat + "/" + lng + "&layers=N";
          marker.bindPopup(address + '<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&route=' + url + '">Routing via OpenStreetMap</a></p>');
        }
      }
    }
    function printLatestRelease(selector, repo) {
      if (hugoEnvironment === "production") {
        $.getJSON("https://api.github.com/repos/" + repo + "/tags").done(function(json) {
          let release = json[0];
          $(selector).append(" " + release.name);
        }).fail(function(jqxhr, textStatus, error) {
          let err = textStatus + ", " + error;
          console.log("Request Failed: " + err);
        });
      }
    }
    function toggleSearchDialog() {
      if ($("body").hasClass("searching")) {
        $("[id=search-query]").blur();
        $("body").removeClass("searching compensate-for-scrollbar");
        removeQueryParamsFromUrl();
        $("#fancybox-style-noscroll").remove();
      } else {
        if (!$("#fancybox-style-noscroll").length && document.body.scrollHeight > window.innerHeight) {
          $("head").append('<style id="fancybox-style-noscroll">.compensate-for-scrollbar{margin-right:' + (window.innerWidth - document.documentElement.clientWidth) + "px;}</style>");
          $("body").addClass("compensate-for-scrollbar");
        }
        $("body").addClass("searching");
        $(".search-results").css({opacity: 0, visibility: "visible"}).animate({opacity: 1}, 200);
        $("#search-query").focus();
      }
    }
    function normalizeCarouselSlideHeights() {
      $(".carousel").each(function() {
        let items = $(".carousel-item", this);
        items.css("min-height", 0);
        let maxHeight = Math.max.apply(null, items.map(function() {
          return $(this).outerHeight();
        }).get());
        items.css("min-height", maxHeight + "px");
      });
    }
    function fixHugoOutput() {
      $("#TableOfContents").addClass("nav flex-column");
      $("#TableOfContents li").addClass("nav-item");
      $("#TableOfContents li a").addClass("nav-link");
      $("input[type='checkbox'][disabled]").parents("ul").addClass("task-list");
    }
    function getSiblings(elem) {
      return Array.prototype.filter.call(elem.parentNode.children, function(sibling) {
        return sibling !== elem;
      });
    }
    $(document).ready(function() {
      fixHugoOutput();
      let {isDarkTheme, themeMode} = initThemeVariation();
      renderThemeVariation(isDarkTheme, themeMode, true);
      if (codeHighlighting) {
        hljs.initHighlighting();
      }
      let child = document.querySelector(".docs-links .active");
      let parent = document.querySelector(".docs-links");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
    });
    $(window).on("load", function() {
      fixScrollspy();
      let isotopeInstances = document.querySelectorAll(".projects-container");
      let isotopeInstancesCount = isotopeInstances.length;
      if (window.location.hash && isotopeInstancesCount === 0) {
        scrollToAnchor(decodeURIComponent(window.location.hash), 0);
      }
      let child = document.querySelector(".docs-toc .nav-link.active");
      let parent = document.querySelector(".docs-toc");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
      let zoomOptions = {};
      if (document.body.classList.contains("dark")) {
        zoomOptions.background = "rgba(0,0,0,0.9)";
      } else {
        zoomOptions.background = "rgba(255,255,255,0.9)";
      }
      medium_zoom_esm_default("[data-zoomable]", zoomOptions);
      let isotopeCounter = 0;
      isotopeInstances.forEach(function(isotopeInstance, index) {
        console.debug(`Loading Isotope instance ${index}`);
        let iso;
        let isoSection = isotopeInstance.closest("section");
        let layout = "";
        if (isoSection.querySelector(".isotope").classList.contains("js-layout-row")) {
          layout = "fitRows";
        } else {
          layout = "masonry";
        }
        let defaultFilter = isoSection.querySelector(".default-project-filter");
        let filterText = "*";
        if (defaultFilter !== null) {
          filterText = defaultFilter.textContent;
        }
        console.debug(`Default Isotope filter: ${filterText}`);
        imagesLoaded(isotopeInstance, function() {
          iso = new Isotope(isotopeInstance, {
            itemSelector: ".isotope-item",
            layoutMode: layout,
            masonry: {
              gutter: 20
            },
            filter: filterText
          });
          let isoFilterButtons = isoSection.querySelectorAll(".project-filters a");
          isoFilterButtons.forEach((button) => button.addEventListener("click", (e) => {
            e.preventDefault();
            let selector = button.getAttribute("data-filter");
            console.debug(`Updating Isotope filter to ${selector}`);
            iso.arrange({filter: selector});
            button.classList.remove("active");
            button.classList.add("active");
            let buttonSiblings = getSiblings(button);
            buttonSiblings.forEach((buttonSibling) => {
              buttonSibling.classList.remove("active");
              buttonSibling.classList.remove("all");
            });
          }));
          incrementIsotopeCounter();
        });
      });
      function incrementIsotopeCounter() {
        isotopeCounter++;
        if (isotopeCounter === isotopeInstancesCount) {
          console.debug(`All Portfolio Isotope instances loaded.`);
          if (window.location.hash) {
            scrollToAnchor(decodeURIComponent(window.location.hash), 0);
          }
        }
      }
      if ($(".pub-filters-select")) {
        filter_publications();
      }
      $(".js-cite-modal").click(function(e) {
        e.preventDefault();
        let filename = $(this).attr("data-filename");
        let modal = $("#modal");
        modal.find(".modal-body code").load(filename, function(response, status, xhr) {
          if (status == "error") {
            let msg = "Error: ";
            $("#modal-error").html(msg + xhr.status + " " + xhr.statusText);
          } else {
            $(".js-download-cite").attr("href", filename);
          }
        });
        modal.modal("show");
      });
      $(".js-copy-cite").click(function(e) {
        e.preventDefault();
        let range = document.createRange();
        let code_node = document.querySelector("#modal .modal-body");
        range.selectNode(code_node);
        window.getSelection().addRange(range);
        try {
          document.execCommand("copy");
        } catch (e2) {
          console.log("Error: citation copy failed.");
        }
        window.getSelection().removeRange(range);
      });
      initMap();
      let githubReleaseSelector = ".js-github-release";
      if ($(githubReleaseSelector).length > 0) {
        printLatestRelease(githubReleaseSelector, $(githubReleaseSelector).data("repo"));
      }
      document.addEventListener("keyup", (event) => {
        if (event.code === "Escape") {
          const body2 = document.body;
          if (body2.classList.contains("searching")) {
            toggleSearchDialog();
          }
        }
        if (event.key === "/") {
          let focusedElement = document.hasFocus() && document.activeElement !== document.body && document.activeElement !== document.documentElement && document.activeElement || null;
          let isInputFocused = focusedElement instanceof HTMLInputElement || focusedElement instanceof HTMLTextAreaElement;
          if (searchEnabled && !isInputFocused) {
            event.preventDefault();
            toggleSearchDialog();
          }
        }
      });
      if (searchEnabled) {
        $(".js-search").click(function(e) {
          e.preventDefault();
          toggleSearchDialog();
        });
      }
      $('[data-toggle="tooltip"]').tooltip();
    });
    var linkLight = document.querySelector(".js-set-theme-light");
    var linkDark = document.querySelector(".js-set-theme-dark");
    var linkAuto = document.querySelector(".js-set-theme-auto");
    if (linkLight && linkDark && linkAuto) {
      linkLight.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(0);
      });
      linkDark.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(1);
      });
      linkAuto.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(2);
      });
    }
    var darkModeMediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
    darkModeMediaQuery.addEventListener("change", (event) => {
      onMediaQueryListEvent(event);
    });
    window.addEventListener("load", normalizeCarouselSlideHeights);
    window.addEventListener("resize", normalizeCarouselSlideHeights);
    window.addEventListener("orientationchange", normalizeCarouselSlideHeights);
    $("body").on("mouseenter mouseleave", ".dropdown", function(e) {
      var dropdown = $(e.target).closest(".dropdown");
      var menu = $(".dropdown-menu", dropdown);
      dropdown.addClass("show");
      menu.addClass("show");
      setTimeout(function() {
        dropdown[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
        menu[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
      }, 300);
    });
    var resizeTimer;
    $(window).resize(function() {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(fixScrollspy, 200);
    });
  })();
  (() => {
    var content_type = {authors: "\u8457\u8005", event: "\u767B\u58C7", post: "\u6295\u7A3F", project: "\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8", publication: "\u767A\u8868\u6587\u732E", slides: "\u30B9\u30E9\u30A4\u30C9"};
    var i18n = {no_results: "\u7D50\u679C\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F", placeholder: "\u691C\u7D22", results: "\u691C\u7D22\u7D50\u679C"};
    var search_config = {indexURI: "/index.json", minLength: 1, threshold: 0.3};
    var fuseOptions = {
      shouldSort: true,
      includeMatches: true,
      tokenize: true,
      threshold: search_config.threshold,
      location: 0,
      distance: 100,
      maxPatternLength: 32,
      minMatchCharLength: search_config.minLength,
      keys: [
        {name: "title", weight: 0.99},
        {name: "summary", weight: 0.6},
        {name: "authors", weight: 0.5},
        {name: "content", weight: 0.2},
        {name: "tags", weight: 0.5},
        {name: "categories", weight: 0.5}
      ]
    };
    var summaryLength = 60;
    function getSearchQuery(name) {
      return decodeURIComponent((location.search.split(name + "=")[1] || "").split("&")[0]).replace(/\+/g, " ");
    }
    function updateURL(url) {
      if (history.replaceState) {
        window.history.replaceState({path: url}, "", url);
      }
    }
    function initSearch(force, fuse) {
      let query = $("#search-query").val();
      if (query.length < 1) {
        $("#search-hits").empty();
        $("#search-common-queries").show();
      }
      if (!force && query.length < fuseOptions.minMatchCharLength)
        return;
      $("#search-hits").empty();
      $("#search-common-queries").hide();
      searchAcademic(query, fuse);
      let newURL = window.location.protocol + "//" + window.location.host + window.location.pathname + "?q=" + encodeURIComponent(query) + window.location.hash;
      updateURL(newURL);
    }
    function searchAcademic(query, fuse) {
      let results = fuse.search(query);
      if (results.length > 0) {
        $("#search-hits").append('<h3 class="mt-0">' + results.length + " " + i18n.results + "</h3>");
        parseResults(query, results);
      } else {
        $("#search-hits").append('<div class="search-no-results">' + i18n.no_results + "</div>");
      }
    }
    function parseResults(query, results) {
      $.each(results, function(key, value) {
        let content_key = value.item.section;
        let content = "";
        let snippet = "";
        let snippetHighlights = [];
        if (["publication", "event"].includes(content_key)) {
          content = value.item.summary;
        } else {
          content = value.item.content;
        }
        if (fuseOptions.tokenize) {
          snippetHighlights.push(query);
        } else {
          $.each(value.matches, function(matchKey, matchValue) {
            if (matchValue.key == "content") {
              let start = matchValue.indices[0][0] - summaryLength > 0 ? matchValue.indices[0][0] - summaryLength : 0;
              let end = matchValue.indices[0][1] + summaryLength < content.length ? matchValue.indices[0][1] + summaryLength : content.length;
              snippet += content.substring(start, end);
              snippetHighlights.push(matchValue.value.substring(matchValue.indices[0][0], matchValue.indices[0][1] - matchValue.indices[0][0] + 1));
            }
          });
        }
        if (snippet.length < 1) {
          snippet += value.item.summary;
        }
        let template = $("#search-hit-fuse-template").html();
        if (content_key in content_type) {
          content_key = content_type[content_key];
        }
        let templateData = {
          key,
          title: value.item.title,
          type: content_key,
          relpermalink: value.item.relpermalink,
          snippet
        };
        let output = render(template, templateData);
        $("#search-hits").append(output);
        $.each(snippetHighlights, function(hlKey, hlValue) {
          $("#summary-" + key).mark(hlValue);
        });
      });
    }
    function render(template, data) {
      let key, find, re;
      for (key in data) {
        find = "\\{\\{\\s*" + key + "\\s*\\}\\}";
        re = new RegExp(find, "g");
        template = template.replace(re, data[key]);
      }
      return template;
    }
    if (typeof Fuse === "function") {
      $.getJSON(search_config.indexURI, function(search_index) {
        let fuse = new Fuse(search_index, fuseOptions);
        let query = getSearchQuery("q");
        if (query) {
          $("body").addClass("searching");
          $(".search-results").css({opacity: 0, visibility: "visible"}).animate({opacity: 1}, 200);
          $("#search-query").val(query);
          $("#search-query").focus();
          initSearch(true, fuse);
        }
        $("#search-query").keyup(function(e) {
          clearTimeout($.data(this, "searchTimer"));
          if (e.keyCode == 13) {
            initSearch(true, fuse);
          } else {
            $(this).data("searchTimer", setTimeout(function() {
              initSearch(false, fuse);
            }, 250));
          }
        });
      });
    }
  })();
  $(".card-simple").click(function(event) {
    if (!$(event.target).closest("a").length) {
      let url = $(this).children(".article-title").children("a").attr("href");
      if (!url)
        return;
      let baseUrl = "{{ $.Site.BaseURL }}";
      let isAbsoluteUrl = /^https?:\/\//i.test(url);
      let isInternalLink = !isAbsoluteUrl || url.startsWith(baseUrl);
      if (isInternalLink) {
        location.href = url;
      } else {
        window.open(url, "");
      }
    }
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiPHN0ZGluPiJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyohIFdvd2NoZW15IHY1LjAuMC1iZXRhLjMgfCBodHRwczovL3dvd2NoZW15LmNvbS8gKi9cbi8qISBDb3B5cmlnaHQgMjAxNi1wcmVzZW50IEdlb3JnZSBDdXNoZW4gKGh0dHBzOi8vZ2VvcmdlY3VzaGVuLmNvbS8pICovXG4vKiEgTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3dvd2NoZW15L3dvd2NoZW15LWh1Z28tbW9kdWxlcy9ibG9iL21haW4vTElDRU5TRS5tZCAqL1xuXG47XG4oKCkgPT4ge1xuICAvLyBucy1odWdvOkM6XFxVc2Vyc1xcTWl5YXRhXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlAdjAuMC4wLTIwMjEwMzA4MjEyNTE4LWNmMzJmZGU4MjQxMlxcYXNzZXRzXFxqc1xcX3ZlbmRvclxcbWVkaXVtLXpvb20uZXNtLmpzXG4gIC8qISBtZWRpdW0tem9vbSAxLjAuNiB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL2ZyYW5jb2lzY2hhbGlmb3VyL21lZGl1bS16b29tICovXG4gIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICB2YXIgaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiBpc1N1cHBvcnRlZDIobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgPT09IFwiSU1HXCI7XG4gIH07XG4gIHZhciBpc05vZGVMaXN0ID0gZnVuY3Rpb24gaXNOb2RlTGlzdDIoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gTm9kZUxpc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yoc2VsZWN0b3IpO1xuICB9O1xuICB2YXIgaXNOb2RlID0gZnVuY3Rpb24gaXNOb2RlMihzZWxlY3Rvcikge1xuICAgIHJldHVybiBzZWxlY3RvciAmJiBzZWxlY3Rvci5ub2RlVHlwZSA9PT0gMTtcbiAgfTtcbiAgdmFyIGlzU3ZnID0gZnVuY3Rpb24gaXNTdmcyKGltYWdlKSB7XG4gICAgdmFyIHNvdXJjZSA9IGltYWdlLmN1cnJlbnRTcmMgfHwgaW1hZ2Uuc3JjO1xuICAgIHJldHVybiBzb3VyY2Uuc3Vic3RyKC00KS50b0xvd2VyQ2FzZSgpID09PSBcIi5zdmdcIjtcbiAgfTtcbiAgdmFyIGdldEltYWdlc0Zyb21TZWxlY3RvciA9IGZ1bmN0aW9uIGdldEltYWdlc0Zyb21TZWxlY3RvcjIoc2VsZWN0b3IpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5maWx0ZXIoaXNTdXBwb3J0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzTm9kZUxpc3Qoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNlbGVjdG9yKS5maWx0ZXIoaXNTdXBwb3J0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzTm9kZShzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIFtzZWxlY3Rvcl0uZmlsdGVyKGlzU3VwcG9ydGVkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZpbHRlcihpc1N1cHBvcnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHByb3ZpZGVkIHNlbGVjdG9yIGlzIGludmFsaWQuXFxuRXhwZWN0cyBhIENTUyBzZWxlY3RvciwgYSBOb2RlIGVsZW1lbnQsIGEgTm9kZUxpc3Qgb3IgYW4gYXJyYXkuXFxuU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZnJhbmNvaXNjaGFsaWZvdXIvbWVkaXVtLXpvb21cIik7XG4gICAgfVxuICB9O1xuICB2YXIgY3JlYXRlT3ZlcmxheSA9IGZ1bmN0aW9uIGNyZWF0ZU92ZXJsYXkyKGJhY2tncm91bmQpIHtcbiAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20tb3ZlcmxheVwiKTtcbiAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgIHJldHVybiBvdmVybGF5O1xuICB9O1xuICB2YXIgY2xvbmVUYXJnZXQgPSBmdW5jdGlvbiBjbG9uZVRhcmdldDIodGVtcGxhdGUpIHtcbiAgICB2YXIgX3RlbXBsYXRlJGdldEJvdW5kaW5nID0gdGVtcGxhdGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRvcCA9IF90ZW1wbGF0ZSRnZXRCb3VuZGluZy50b3AsIGxlZnQgPSBfdGVtcGxhdGUkZ2V0Qm91bmRpbmcubGVmdCwgd2lkdGggPSBfdGVtcGxhdGUkZ2V0Qm91bmRpbmcud2lkdGgsIGhlaWdodCA9IF90ZW1wbGF0ZSRnZXRCb3VuZGluZy5oZWlnaHQ7XG4gICAgdmFyIGNsb25lID0gdGVtcGxhdGUuY2xvbmVOb2RlKCk7XG4gICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDA7XG4gICAgdmFyIHNjcm9sbExlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDA7XG4gICAgY2xvbmUucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgY2xvbmUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgY2xvbmUuc3R5bGUudG9wID0gdG9wICsgc2Nyb2xsVG9wICsgXCJweFwiO1xuICAgIGNsb25lLnN0eWxlLmxlZnQgPSBsZWZ0ICsgc2Nyb2xsTGVmdCArIFwicHhcIjtcbiAgICBjbG9uZS5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgIGNsb25lLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICBjbG9uZS5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcbiAgdmFyIGNyZWF0ZUN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQyKHR5cGUsIHBhcmFtcykge1xuICAgIHZhciBldmVudFBhcmFtcyA9IF9leHRlbmRzKHtcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICBkZXRhaWw6IHZvaWQgMFxuICAgIH0sIHBhcmFtcyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCBldmVudFBhcmFtcyk7XG4gICAgfVxuICAgIHZhciBjdXN0b21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgY3VzdG9tRXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGV2ZW50UGFyYW1zLmJ1YmJsZXMsIGV2ZW50UGFyYW1zLmNhbmNlbGFibGUsIGV2ZW50UGFyYW1zLmRldGFpbCk7XG4gICAgcmV0dXJuIGN1c3RvbUV2ZW50O1xuICB9O1xuICB2YXIgbWVkaXVtWm9vbUVzbSA9IGZ1bmN0aW9uIG1lZGl1bVpvb20oc2VsZWN0b3IpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIFByb21pc2UyID0gd2luZG93LlByb21pc2UgfHwgZnVuY3Rpb24gUHJvbWlzZTMoZm4pIHtcbiAgICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICB9XG4gICAgICBmbihub29wLCBub29wKTtcbiAgICB9O1xuICAgIHZhciBfaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBfaGFuZGxlQ2xpY2syKGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldCA9PT0gb3ZlcmxheSkge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaW1hZ2VzLmluZGV4T2YodGFyZ2V0KSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdG9nZ2xlKHt0YXJnZXR9KTtcbiAgICB9O1xuICAgIHZhciBfaGFuZGxlU2Nyb2xsID0gZnVuY3Rpb24gX2hhbmRsZVNjcm9sbDIoKSB7XG4gICAgICBpZiAoaXNBbmltYXRpbmcgfHwgIWFjdGl2ZS5vcmlnaW5hbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudFNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoc2Nyb2xsVG9wIC0gY3VycmVudFNjcm9sbCkgPiB6b29tT3B0aW9ucy5zY3JvbGxPZmZzZXQpIHtcbiAgICAgICAgc2V0VGltZW91dChjbG9zZSwgMTUwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBfaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiBfaGFuZGxlS2V5VXAyKGV2ZW50KSB7XG4gICAgICB2YXIga2V5ID0gZXZlbnQua2V5IHx8IGV2ZW50LmtleUNvZGU7XG4gICAgICBpZiAoa2V5ID09PSBcIkVzY2FwZVwiIHx8IGtleSA9PT0gXCJFc2NcIiB8fCBrZXkgPT09IDI3KSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlMigpIHtcbiAgICAgIHZhciBvcHRpb25zMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgbmV3T3B0aW9ucyA9IG9wdGlvbnMyO1xuICAgICAgaWYgKG9wdGlvbnMyLmJhY2tncm91bmQpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uczIuYmFja2dyb3VuZDtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zMi5jb250YWluZXIgJiYgb3B0aW9uczIuY29udGFpbmVyIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgIG5ld09wdGlvbnMuY29udGFpbmVyID0gX2V4dGVuZHMoe30sIHpvb21PcHRpb25zLmNvbnRhaW5lciwgb3B0aW9uczIuY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zMi50ZW1wbGF0ZSkge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSBpc05vZGUob3B0aW9uczIudGVtcGxhdGUpID8gb3B0aW9uczIudGVtcGxhdGUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMyLnRlbXBsYXRlKTtcbiAgICAgICAgbmV3T3B0aW9ucy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgfVxuICAgICAgem9vbU9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgem9vbU9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICAgICAgaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgaW1hZ2UuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOnVwZGF0ZVwiLCB7XG4gICAgICAgICAgZGV0YWlsOiB7em9vbX1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lMigpIHtcbiAgICAgIHZhciBvcHRpb25zMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICByZXR1cm4gbWVkaXVtWm9vbUVzbShfZXh0ZW5kcyh7fSwgem9vbU9wdGlvbnMsIG9wdGlvbnMyKSk7XG4gICAgfTtcbiAgICB2YXIgYXR0YWNoID0gZnVuY3Rpb24gYXR0YWNoMigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzZWxlY3RvcnMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgc2VsZWN0b3JzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ltYWdlcyA9IHNlbGVjdG9ycy5yZWR1Y2UoZnVuY3Rpb24oaW1hZ2VzQWNjdW11bGF0b3IsIGN1cnJlbnRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KGltYWdlc0FjY3VtdWxhdG9yLCBnZXRJbWFnZXNGcm9tU2VsZWN0b3IoY3VycmVudFNlbGVjdG9yKSk7XG4gICAgICB9LCBbXSk7XG4gICAgICBuZXdJbWFnZXMuZmlsdGVyKGZ1bmN0aW9uKG5ld0ltYWdlKSB7XG4gICAgICAgIHJldHVybiBpbWFnZXMuaW5kZXhPZihuZXdJbWFnZSkgPT09IC0xO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihuZXdJbWFnZSkge1xuICAgICAgICBpbWFnZXMucHVzaChuZXdJbWFnZSk7XG4gICAgICAgIG5ld0ltYWdlLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihfcmVmKSB7XG4gICAgICAgIHZhciB0eXBlID0gX3JlZi50eXBlLCBsaXN0ZW5lciA9IF9yZWYubGlzdGVuZXIsIG9wdGlvbnMyID0gX3JlZi5vcHRpb25zO1xuICAgICAgICBuZXdJbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB6b29tO1xuICAgIH07XG4gICAgdmFyIGRldGFjaCA9IGZ1bmN0aW9uIGRldGFjaDIoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNlbGVjdG9ycyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHNlbGVjdG9yc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZS56b29tZWQpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZXNUb0RldGFjaCA9IHNlbGVjdG9ycy5sZW5ndGggPiAwID8gc2VsZWN0b3JzLnJlZHVjZShmdW5jdGlvbihpbWFnZXNBY2N1bXVsYXRvciwgY3VycmVudFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBbXS5jb25jYXQoaW1hZ2VzQWNjdW11bGF0b3IsIGdldEltYWdlc0Zyb21TZWxlY3RvcihjdXJyZW50U2VsZWN0b3IpKTtcbiAgICAgIH0sIFtdKSA6IGltYWdlcztcbiAgICAgIGltYWdlc1RvRGV0YWNoLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLWltYWdlXCIpO1xuICAgICAgICBpbWFnZS5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206ZGV0YWNoXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHt6b29tfVxuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICAgIGltYWdlcyA9IGltYWdlcy5maWx0ZXIoZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlc1RvRGV0YWNoLmluZGV4T2YoaW1hZ2UpID09PSAtMTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHpvb207XG4gICAgfTtcbiAgICB2YXIgb24gPSBmdW5jdGlvbiBvbjIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBvcHRpb25zMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICBpbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibWVkaXVtLXpvb206XCIgKyB0eXBlLCBsaXN0ZW5lciwgb3B0aW9uczIpO1xuICAgICAgfSk7XG4gICAgICBldmVudExpc3RlbmVycy5wdXNoKHt0eXBlOiBcIm1lZGl1bS16b29tOlwiICsgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnMyfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBvZmYgPSBmdW5jdGlvbiBvZmYyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgb3B0aW9uczIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgaW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lZGl1bS16b29tOlwiICsgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMyKTtcbiAgICAgIH0pO1xuICAgICAgZXZlbnRMaXN0ZW5lcnMgPSBldmVudExpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24oZXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gIShldmVudExpc3RlbmVyLnR5cGUgPT09IFwibWVkaXVtLXpvb206XCIgKyB0eXBlICYmIGV2ZW50TGlzdGVuZXIubGlzdGVuZXIudG9TdHJpbmcoKSA9PT0gbGlzdGVuZXIudG9TdHJpbmcoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB6b29tO1xuICAgIH07XG4gICAgdmFyIG9wZW4gPSBmdW5jdGlvbiBvcGVuMigpIHtcbiAgICAgIHZhciBfcmVmMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge30sIHRhcmdldCA9IF9yZWYyLnRhcmdldDtcbiAgICAgIHZhciBfYW5pbWF0ZSA9IGZ1bmN0aW9uIF9hbmltYXRlMigpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHtcbiAgICAgICAgICB3aWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZpZXdwb3J0V2lkdGggPSB2b2lkIDA7XG4gICAgICAgIHZhciB2aWV3cG9ydEhlaWdodCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHpvb21PcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICAgIGlmICh6b29tT3B0aW9ucy5jb250YWluZXIgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IF9leHRlbmRzKHt9LCBjb250YWluZXIsIHpvb21PcHRpb25zLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB2aWV3cG9ydFdpZHRoID0gY29udGFpbmVyLndpZHRoIC0gY29udGFpbmVyLmxlZnQgLSBjb250YWluZXIucmlnaHQgLSB6b29tT3B0aW9ucy5tYXJnaW4gKiAyO1xuICAgICAgICAgICAgdmlld3BvcnRIZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0IC0gY29udGFpbmVyLnRvcCAtIGNvbnRhaW5lci5ib3R0b20gLSB6b29tT3B0aW9ucy5tYXJnaW4gKiAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgem9vbUNvbnRhaW5lciA9IGlzTm9kZSh6b29tT3B0aW9ucy5jb250YWluZXIpID8gem9vbU9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih6b29tT3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICAgICAgdmFyIF96b29tQ29udGFpbmVyJGdldEJvdSA9IHpvb21Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIF93aWR0aCA9IF96b29tQ29udGFpbmVyJGdldEJvdS53aWR0aCwgX2hlaWdodCA9IF96b29tQ29udGFpbmVyJGdldEJvdS5oZWlnaHQsIF9sZWZ0ID0gX3pvb21Db250YWluZXIkZ2V0Qm91LmxlZnQsIF90b3AgPSBfem9vbUNvbnRhaW5lciRnZXRCb3UudG9wO1xuICAgICAgICAgICAgY29udGFpbmVyID0gX2V4dGVuZHMoe30sIGNvbnRhaW5lciwge1xuICAgICAgICAgICAgICB3aWR0aDogX3dpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IF9oZWlnaHQsXG4gICAgICAgICAgICAgIGxlZnQ6IF9sZWZ0LFxuICAgICAgICAgICAgICB0b3A6IF90b3BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2aWV3cG9ydFdpZHRoID0gdmlld3BvcnRXaWR0aCB8fCBjb250YWluZXIud2lkdGggLSB6b29tT3B0aW9ucy5tYXJnaW4gKiAyO1xuICAgICAgICB2aWV3cG9ydEhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0IHx8IGNvbnRhaW5lci5oZWlnaHQgLSB6b29tT3B0aW9ucy5tYXJnaW4gKiAyO1xuICAgICAgICB2YXIgem9vbVRhcmdldCA9IGFjdGl2ZS56b29tZWRIZCB8fCBhY3RpdmUub3JpZ2luYWw7XG4gICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBpc1N2Zyh6b29tVGFyZ2V0KSA/IHZpZXdwb3J0V2lkdGggOiB6b29tVGFyZ2V0Lm5hdHVyYWxXaWR0aCB8fCB2aWV3cG9ydFdpZHRoO1xuICAgICAgICB2YXIgbmF0dXJhbEhlaWdodCA9IGlzU3ZnKHpvb21UYXJnZXQpID8gdmlld3BvcnRIZWlnaHQgOiB6b29tVGFyZ2V0Lm5hdHVyYWxIZWlnaHQgfHwgdmlld3BvcnRIZWlnaHQ7XG4gICAgICAgIHZhciBfem9vbVRhcmdldCRnZXRCb3VuZGkgPSB6b29tVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0b3AgPSBfem9vbVRhcmdldCRnZXRCb3VuZGkudG9wLCBsZWZ0ID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLmxlZnQsIHdpZHRoID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLndpZHRoLCBoZWlnaHQgPSBfem9vbVRhcmdldCRnZXRCb3VuZGkuaGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGVYID0gTWF0aC5taW4obmF0dXJhbFdpZHRoLCB2aWV3cG9ydFdpZHRoKSAvIHdpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gTWF0aC5taW4obmF0dXJhbEhlaWdodCwgdmlld3BvcnRIZWlnaHQpIC8gaGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIHZhciB0cmFuc2xhdGVYID0gKC1sZWZ0ICsgKHZpZXdwb3J0V2lkdGggLSB3aWR0aCkgLyAyICsgem9vbU9wdGlvbnMubWFyZ2luICsgY29udGFpbmVyLmxlZnQpIC8gc2NhbGU7XG4gICAgICAgIHZhciB0cmFuc2xhdGVZID0gKC10b3AgKyAodmlld3BvcnRIZWlnaHQgLSBoZWlnaHQpIC8gMiArIHpvb21PcHRpb25zLm1hcmdpbiArIGNvbnRhaW5lci50b3ApIC8gc2NhbGU7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgc2NhbGUgKyBcIikgdHJhbnNsYXRlM2QoXCIgKyB0cmFuc2xhdGVYICsgXCJweCwgXCIgKyB0cmFuc2xhdGVZICsgXCJweCwgMClcIjtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIGlmIChhY3RpdmUuem9vbWVkSGQpIHtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlMihmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIGlmICh0YXJnZXQgJiYgaW1hZ2VzLmluZGV4T2YodGFyZ2V0KSA9PT0gLTEpIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2hhbmRsZU9wZW5FbmQgPSBmdW5jdGlvbiBfaGFuZGxlT3BlbkVuZDIoKSB7XG4gICAgICAgICAgaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIF9oYW5kbGVPcGVuRW5kMik7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsLmRpc3BhdGNoRXZlbnQoY3JlYXRlQ3VzdG9tRXZlbnQoXCJtZWRpdW0tem9vbTpvcGVuZWRcIiwge1xuICAgICAgICAgICAgZGV0YWlsOiB7em9vbX1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFjdGl2ZS56b29tZWQpIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsID0gdGFyZ2V0O1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIF9pbWFnZXMgPSBpbWFnZXM7XG4gICAgICAgICAgYWN0aXZlLm9yaWdpbmFsID0gX2ltYWdlc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmUub3JpZ2luYWwuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOm9wZW5cIiwge1xuICAgICAgICAgIGRldGFpbDoge3pvb219XG4gICAgICAgIH0pKTtcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgMDtcbiAgICAgICAgaXNBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBhY3RpdmUuem9vbWVkID0gY2xvbmVUYXJnZXQoYWN0aXZlLm9yaWdpbmFsKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICAgICAgaWYgKHpvb21PcHRpb25zLnRlbXBsYXRlKSB7XG4gICAgICAgICAgdmFyIHRlbXBsYXRlID0gaXNOb2RlKHpvb21PcHRpb25zLnRlbXBsYXRlKSA/IHpvb21PcHRpb25zLnRlbXBsYXRlIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih6b29tT3B0aW9ucy50ZW1wbGF0ZSk7XG4gICAgICAgICAgYWN0aXZlLnRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBhY3RpdmUudGVtcGxhdGUuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWN0aXZlLnRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFjdGl2ZS56b29tZWQpO1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLS1vcGVuZWRcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBhY3RpdmUub3JpZ2luYWwuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLWltYWdlLS1oaWRkZW5cIik7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLWltYWdlLS1vcGVuZWRcIik7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlT3BlbkVuZCk7XG4gICAgICAgIGlmIChhY3RpdmUub3JpZ2luYWwuZ2V0QXR0cmlidXRlKFwiZGF0YS16b29tLXNyY1wiKSkge1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZCA9IGFjdGl2ZS56b29tZWQuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnJlbW92ZUF0dHJpYnV0ZShcInNyY3NldFwiKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQucmVtb3ZlQXR0cmlidXRlKFwic2l6ZXNcIik7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnNyYyA9IGFjdGl2ZS56b29tZWQuZ2V0QXR0cmlidXRlKFwiZGF0YS16b29tLXNyY1wiKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChnZXRab29tVGFyZ2V0U2l6ZSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gcmVhY2ggdGhlIHpvb20gaW1hZ2UgdGFyZ2V0IFwiICsgYWN0aXZlLnpvb21lZEhkLnNyYyk7XG4gICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQgPSBudWxsO1xuICAgICAgICAgICAgX2FuaW1hdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBnZXRab29tVGFyZ2V0U2l6ZSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZS56b29tZWRIZC5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGdldFpvb21UYXJnZXRTaXplKTtcbiAgICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVkXCIpO1xuICAgICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhY3RpdmUuem9vbWVkSGQpO1xuICAgICAgICAgICAgICBfYW5pbWF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmUub3JpZ2luYWwuaGFzQXR0cmlidXRlKFwic3Jjc2V0XCIpKSB7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkID0gYWN0aXZlLnpvb21lZC5jbG9uZU5vZGUoKTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQucmVtb3ZlQXR0cmlidXRlKFwic2l6ZXNcIik7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnJlbW92ZUF0dHJpYnV0ZShcImxvYWRpbmdcIik7XG4gICAgICAgICAgdmFyIGxvYWRFdmVudExpc3RlbmVyID0gYWN0aXZlLnpvb21lZEhkLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxvYWRFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20taW1hZ2UtLW9wZW5lZFwiKTtcbiAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2UpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhY3RpdmUuem9vbWVkSGQpO1xuICAgICAgICAgICAgX2FuaW1hdGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfYW5pbWF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlMigpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTIoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICBpZiAoaXNBbmltYXRpbmcgfHwgIWFjdGl2ZS5vcmlnaW5hbCkge1xuICAgICAgICAgIHJlc29sdmUoem9vbSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfaGFuZGxlQ2xvc2VFbmQgPSBmdW5jdGlvbiBfaGFuZGxlQ2xvc2VFbmQyKCkge1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLXpvb20taW1hZ2UtLWhpZGRlblwiKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFjdGl2ZS56b29tZWQpO1xuICAgICAgICAgIGlmIChhY3RpdmUuem9vbWVkSGQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYWN0aXZlLnpvb21lZEhkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdmVybGF5KTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkLmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVkXCIpO1xuICAgICAgICAgIGlmIChhY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYWN0aXZlLnRlbXBsYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIF9oYW5kbGVDbG9zZUVuZDIpO1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206Y2xvc2VkXCIsIHtcbiAgICAgICAgICAgIGRldGFpbDoge3pvb219XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbCA9IG51bGw7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZCA9IG51bGw7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkID0gbnVsbDtcbiAgICAgICAgICBhY3RpdmUudGVtcGxhdGUgPSBudWxsO1xuICAgICAgICAgIHJlc29sdmUoem9vbSk7XG4gICAgICAgIH07XG4gICAgICAgIGlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLXpvb20tLW9wZW5lZFwiKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xuICAgICAgICBpZiAoYWN0aXZlLnpvb21lZEhkKSB7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnN0eWxlLnRyYW5zZm9ybSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZS50ZW1wbGF0ZSkge1xuICAgICAgICAgIGFjdGl2ZS50ZW1wbGF0ZS5zdHlsZS50cmFuc2l0aW9uID0gXCJvcGFjaXR5IDE1MG1zXCI7XG4gICAgICAgICAgYWN0aXZlLnRlbXBsYXRlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206Y2xvc2VcIiwge1xuICAgICAgICAgIGRldGFpbDoge3pvb219XG4gICAgICAgIH0pKTtcbiAgICAgICAgYWN0aXZlLnpvb21lZC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlQ2xvc2VFbmQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlMigpIHtcbiAgICAgIHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge30sIHRhcmdldCA9IF9yZWYzLnRhcmdldDtcbiAgICAgIGlmIChhY3RpdmUub3JpZ2luYWwpIHtcbiAgICAgICAgcmV0dXJuIGNsb3NlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3Blbih7dGFyZ2V0fSk7XG4gICAgfTtcbiAgICB2YXIgZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMyKCkge1xuICAgICAgcmV0dXJuIHpvb21PcHRpb25zO1xuICAgIH07XG4gICAgdmFyIGdldEltYWdlcyA9IGZ1bmN0aW9uIGdldEltYWdlczIoKSB7XG4gICAgICByZXR1cm4gaW1hZ2VzO1xuICAgIH07XG4gICAgdmFyIGdldFpvb21lZEltYWdlID0gZnVuY3Rpb24gZ2V0Wm9vbWVkSW1hZ2UyKCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZS5vcmlnaW5hbDtcbiAgICB9O1xuICAgIHZhciBpbWFnZXMgPSBbXTtcbiAgICB2YXIgZXZlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgICB2YXIgaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICB2YXIgc2Nyb2xsVG9wID0gMDtcbiAgICB2YXIgem9vbU9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBhY3RpdmUgPSB7XG4gICAgICBvcmlnaW5hbDogbnVsbCxcbiAgICAgIHpvb21lZDogbnVsbCxcbiAgICAgIHpvb21lZEhkOiBudWxsLFxuICAgICAgdGVtcGxhdGU6IG51bGxcbiAgICB9O1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2VsZWN0b3IpID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICB6b29tT3B0aW9ucyA9IHNlbGVjdG9yO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBhdHRhY2goc2VsZWN0b3IpO1xuICAgIH1cbiAgICB6b29tT3B0aW9ucyA9IF9leHRlbmRzKHtcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZlwiLFxuICAgICAgc2Nyb2xsT2Zmc2V0OiA0MCxcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgIHRlbXBsYXRlOiBudWxsXG4gICAgfSwgem9vbU9wdGlvbnMpO1xuICAgIHZhciBvdmVybGF5ID0gY3JlYXRlT3ZlcmxheSh6b29tT3B0aW9ucy5iYWNrZ3JvdW5kKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX2hhbmRsZUNsaWNrKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgX2hhbmRsZUtleVVwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIF9oYW5kbGVTY3JvbGwpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNsb3NlKTtcbiAgICB2YXIgem9vbSA9IHtcbiAgICAgIG9wZW4sXG4gICAgICBjbG9zZSxcbiAgICAgIHRvZ2dsZSxcbiAgICAgIHVwZGF0ZSxcbiAgICAgIGNsb25lLFxuICAgICAgYXR0YWNoLFxuICAgICAgZGV0YWNoLFxuICAgICAgb24sXG4gICAgICBvZmYsXG4gICAgICBnZXRPcHRpb25zLFxuICAgICAgZ2V0SW1hZ2VzLFxuICAgICAgZ2V0Wm9vbWVkSW1hZ2VcbiAgICB9O1xuICAgIHJldHVybiB6b29tO1xuICB9O1xuICBmdW5jdGlvbiBzdHlsZUluamVjdChjc3MyLCByZWYpIHtcbiAgICBpZiAocmVmID09PSB2b2lkIDApXG4gICAgICByZWYgPSB7fTtcbiAgICB2YXIgaW5zZXJ0QXQgPSByZWYuaW5zZXJ0QXQ7XG4gICAgaWYgKCFjc3MyIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBzdHlsZS50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgIGlmIChpbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuICAgICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkge1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzczI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzczIpKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNzcyA9IFwiLm1lZGl1bS16b29tLW92ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuM3M7d2lsbC1jaGFuZ2U6b3BhY2l0eX0ubWVkaXVtLXpvb20tLW9wZW5lZCAubWVkaXVtLXpvb20tb3ZlcmxheXtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6em9vbS1vdXQ7b3BhY2l0eToxfS5tZWRpdW0tem9vbS1pbWFnZXtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6em9vbS1pbjt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgY3ViaWMtYmV6aWVyKC4yLDAsLjIsMSkhaW1wb3J0YW50fS5tZWRpdW0tem9vbS1pbWFnZS0taGlkZGVue3Zpc2liaWxpdHk6aGlkZGVufS5tZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVke3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyO2N1cnNvcjp6b29tLW91dDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19XCI7XG4gIHN0eWxlSW5qZWN0KGNzcyk7XG4gIHZhciBtZWRpdW1fem9vbV9lc21fZGVmYXVsdCA9IG1lZGl1bVpvb21Fc207XG5cbiAgLy8gbnMtcGFyYW1zOkBwYXJhbXNcbiAgdmFyIGNvZGVIaWdobGlnaHRpbmcgPSB0cnVlO1xuICB2YXIgaHVnb0Vudmlyb25tZW50ID0gXCJkZXZlbG9wbWVudFwiO1xuICB2YXIgc2VhcmNoRW5hYmxlZCA9IHRydWU7XG5cbiAgLy8gbnMtaHVnbzpDOlxcVXNlcnNcXE1peWF0YVxcQXBwRGF0YVxcTG9jYWxcXFRlbXBcXGh1Z29fY2FjaGVcXG1vZHVsZXNcXGZpbGVjYWNoZVxcbW9kdWxlc1xccGtnXFxtb2RcXGdpdGh1Yi5jb21cXHdvd2NoZW15XFx3b3djaGVteS1odWdvLW1vZHVsZXNcXHdvd2NoZW15QHYwLjAuMC0yMDIxMDMwODIxMjUxOC1jZjMyZmRlODI0MTJcXGFzc2V0c1xcanNcXHdvd2NoZW15LXV0aWxzLmpzXG4gIGZ1bmN0aW9uIGZpeE1lcm1haWQocmVuZGVyID0gZmFsc2UpIHtcbiAgICBsZXQgbWVybWFpZHMgPSBbXTtcbiAgICBbXS5wdXNoLmFwcGx5KG1lcm1haWRzLCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGFuZ3VhZ2UtbWVybWFpZFwiKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXJtYWlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1lcm1haWRDb2RlRWxlbWVudCA9IG1lcm1haWRzW2ldO1xuICAgICAgbGV0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSBtZXJtYWlkQ29kZUVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgbmV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWVybWFpZFwiKTtcbiAgICAgIGlmIChyZW5kZXIpIHtcbiAgICAgICAgd2luZG93Lm1lcm1haWQubWVybWFpZEFQSS5yZW5kZXIoYG1lcm1haWQtJHtpfWAsIG5ld0VsZW1lbnQudGV4dENvbnRlbnQsIGZ1bmN0aW9uKHN2Z0NvZGUpIHtcbiAgICAgICAgICBuZXdFbGVtZW50LmlubmVySFRNTCA9IHN2Z0NvZGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbWVybWFpZENvZGVFbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZVdpdGgobmV3RWxlbWVudCk7XG4gICAgfVxuICAgIGNvbnNvbGUuZGVidWcoYFByb2Nlc3NlZCAke21lcm1haWRzLmxlbmd0aH0gTWVybWFpZCBjb2RlIGJsb2Nrc2ApO1xuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbFBhcmVudFRvQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgIGNvbnN0IHBhcmVudFJlY3QgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgcGFyZW50Vmlld2FibGVBcmVhID0ge1xuICAgICAgaGVpZ2h0OiBwYXJlbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgd2lkdGg6IHBhcmVudC5jbGllbnRXaWR0aFxuICAgIH07XG4gICAgY29uc3QgY2hpbGRSZWN0ID0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaXNDaGlsZEluVmlldyA9IGNoaWxkUmVjdC50b3AgPj0gcGFyZW50UmVjdC50b3AgJiYgY2hpbGRSZWN0LmJvdHRvbSA8PSBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFZpZXdhYmxlQXJlYS5oZWlnaHQ7XG4gICAgaWYgKCFpc0NoaWxkSW5WaWV3KSB7XG4gICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gY2hpbGRSZWN0LnRvcCArIHBhcmVudC5zY3JvbGxUb3AgLSBwYXJlbnRSZWN0LnRvcDtcbiAgICB9XG4gIH1cblxuICAvLyBucy1odWdvOkM6XFxVc2Vyc1xcTWl5YXRhXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlAdjAuMC4wLTIwMjEwMzA4MjEyNTE4LWNmMzJmZGU4MjQxMlxcYXNzZXRzXFxqc1xcd293Y2hlbXktYW5pbWF0aW9uLmpzXG4gIGZ1bmN0aW9uIGZhZGVJbihlbGVtZW50LCBkdXJhdGlvbiA9IDYwMCkge1xuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgbGV0IGxhc3QgPSArbmV3IERhdGUoKTtcbiAgICBsZXQgdGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKCtlbGVtZW50LnN0eWxlLm9wYWNpdHkgKyAobmV3IERhdGUoKSAtIGxhc3QpIC8gZHVyYXRpb24pLnRvU3RyaW5nKCk7XG4gICAgICBsYXN0ID0gK25ldyBEYXRlKCk7XG4gICAgICBpZiAoK2VsZW1lbnQuc3R5bGUub3BhY2l0eSA8IDEpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljaykgfHwgc2V0VGltZW91dCh0aWNrLCAxNik7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aWNrKCk7XG4gIH1cblxuICAvLyBucy1odWdvOkM6XFxVc2Vyc1xcTWl5YXRhXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlAdjAuMC4wLTIwMjEwMzA4MjEyNTE4LWNmMzJmZGU4MjQxMlxcYXNzZXRzXFxqc1xcd293Y2hlbXktdGhlbWluZy5qc1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGZ1bmN0aW9uIGdldFRoZW1lTW9kZSgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3Y1RoZW1lXCIpIHx8IDIpO1xuICB9XG4gIGZ1bmN0aW9uIGNhbkNoYW5nZVRoZW1lKCkge1xuICAgIHJldHVybiBCb29sZWFuKHdpbmRvdy53Yy5kYXJrTGlnaHRFbmFibGVkKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0VGhlbWVWYXJpYXRpb24oKSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciB0aGVtaW5nIGRpc2FibGVkLlwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzRGFya1RoZW1lOiB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrLFxuICAgICAgICB0aGVtZU1vZGU6IHdpbmRvdy53Yy5pc1NpdGVUaGVtZURhcmsgPyAxIDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgdGhlbWluZyBlbmFibGVkLlwiKTtcbiAgICBsZXQgaXNEYXJrVGhlbWU7XG4gICAgbGV0IGN1cnJlbnRUaGVtZU1vZGUgPSBnZXRUaGVtZU1vZGUoKTtcbiAgICBjb25zb2xlLmRlYnVnKGBVc2VyJ3MgdGhlbWUgdmFyaWF0aW9uOiAke2N1cnJlbnRUaGVtZU1vZGV9YCk7XG4gICAgc3dpdGNoIChjdXJyZW50VGhlbWVNb2RlKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIikubWF0Y2hlcykge1xuICAgICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaXNEYXJrVGhlbWUgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFdvd2NoZW15IGRhcmsgdGhlbWVcIik7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgIH0gZWxzZSBpZiAoIWlzRGFya1RoZW1lICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFdvd2NoZW15IGxpZ2h0IHRoZW1lXCIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGFya1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRGFya1RoZW1lLFxuICAgICAgdGhlbWVNb2RlOiBjdXJyZW50VGhlbWVNb2RlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VUaGVtZU1vZGVDbGljayhuZXdNb2RlKSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKFwiQ2Fubm90IGNoYW5nZSB0aGVtZSAtIHVzZXIgdGhlbWluZyBkaXNhYmxlZC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpc0RhcmtUaGVtZTtcbiAgICBzd2l0Y2ggKG5ld01vZGUpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3Y1RoZW1lXCIsIFwiMFwiKTtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgY2hhbmdlZCB0aGVtZSB2YXJpYXRpb24gdG8gTGlnaHQuXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3Y1RoZW1lXCIsIFwiMVwiKTtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciBjaGFuZ2VkIHRoZW1lIHZhcmlhdGlvbiB0byBEYXJrLlwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIndjVGhlbWVcIiwgXCIyXCIpO1xuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0RhcmtUaGVtZSA9IHdpbmRvdy53Yy5pc1NpdGVUaGVtZURhcms7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgY2hhbmdlZCB0aGVtZSB2YXJpYXRpb24gdG8gQXV0by5cIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZW5kZXJUaGVtZVZhcmlhdGlvbihpc0RhcmtUaGVtZSwgbmV3TW9kZSk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvd0FjdGl2ZVRoZW1lKG1vZGUpIHtcbiAgICBsZXQgbGlua0xpZ2h0MiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc2V0LXRoZW1lLWxpZ2h0XCIpO1xuICAgIGxldCBsaW5rRGFyazIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1kYXJrXCIpO1xuICAgIGxldCBsaW5rQXV0bzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1hdXRvXCIpO1xuICAgIGlmIChsaW5rTGlnaHQyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBsaW5rTGlnaHQyLmNsYXNzTGlzdC5hZGQoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0RhcmsyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0F1dG8yLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGxpbmtMaWdodDIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rRGFyazIuY2xhc3NMaXN0LmFkZChcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rQXV0bzIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxpbmtMaWdodDIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rRGFyazIuY2xhc3NMaXN0LnJlbW92ZShcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBsaW5rQXV0bzIuY2xhc3NMaXN0LmFkZChcImRyb3Bkb3duLWl0ZW0tYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIHRoZW1lTW9kZSA9IDIsIGluaXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvZGVIbExpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImxpbmtbdGl0bGU9aGwtbGlnaHRdXCIpO1xuICAgIGNvbnN0IGNvZGVIbERhcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGlua1t0aXRsZT1obC1kYXJrXVwiKTtcbiAgICBjb25zdCBjb2RlSGxFbmFibGVkID0gY29kZUhsTGlnaHQgIT09IG51bGwgfHwgY29kZUhsRGFyayAhPT0gbnVsbDtcbiAgICBjb25zdCBkaWFncmFtRW5hYmxlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRbdGl0bGU9bWVybWFpZF1cIikgIT09IG51bGw7XG4gICAgc2hvd0FjdGl2ZVRoZW1lKHRoZW1lTW9kZSk7XG4gICAgY29uc3QgdGhlbWVDaGFuZ2VFdmVudCA9IG5ldyBDdXN0b21FdmVudChcIndjVGhlbWVDaGFuZ2VcIiwge2RldGFpbDoge2lzRGFya1RoZW1lOiAoKSA9PiBpc0RhcmtUaGVtZX19KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHRoZW1lQ2hhbmdlRXZlbnQpO1xuICAgIGlmICghaW5pdCkge1xuICAgICAgaWYgKGlzRGFya1RoZW1lID09PSBmYWxzZSAmJiAhYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpIHx8IGlzRGFya1RoZW1lID09PSB0cnVlICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RhcmtUaGVtZSA9PT0gZmFsc2UpIHtcbiAgICAgIGlmICghaW5pdCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGRvY3VtZW50LmJvZHkuc3R5bGUsIHtvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pO1xuICAgICAgICBmYWRlSW4oZG9jdW1lbnQuYm9keSwgNjAwKTtcbiAgICAgIH1cbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRhcmtcIik7XG4gICAgICBpZiAoY29kZUhsRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiU2V0dGluZyBITEpTIHRoZW1lIHRvIGxpZ2h0XCIpO1xuICAgICAgICBpZiAoY29kZUhsTGlnaHQpIHtcbiAgICAgICAgICBjb2RlSGxMaWdodC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlSGxEYXJrKSB7XG4gICAgICAgICAgY29kZUhsRGFyay5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaWFncmFtRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiSW5pdGlhbGl6aW5nIE1lcm1haWQgd2l0aCBsaWdodCB0aGVtZVwiKTtcbiAgICAgICAgaWYgKGluaXQpIHtcbiAgICAgICAgICB3aW5kb3cubWVybWFpZC5pbml0aWFsaXplKHtzdGFydE9uTG9hZDogZmFsc2UsIHRoZW1lOiBcImRlZmF1bHRcIiwgc2VjdXJpdHlMZXZlbDogXCJsb29zZVwifSk7XG4gICAgICAgICAgZml4TWVybWFpZCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEYXJrVGhlbWUgPT09IHRydWUpIHtcbiAgICAgIGlmICghaW5pdCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGRvY3VtZW50LmJvZHkuc3R5bGUsIHtvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pO1xuICAgICAgICBmYWRlSW4oZG9jdW1lbnQuYm9keSwgNjAwKTtcbiAgICAgIH1cbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRhcmtcIik7XG4gICAgICBpZiAoY29kZUhsRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiU2V0dGluZyBITEpTIHRoZW1lIHRvIGRhcmtcIik7XG4gICAgICAgIGlmIChjb2RlSGxMaWdodCkge1xuICAgICAgICAgIGNvZGVIbExpZ2h0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZUhsRGFyaykge1xuICAgICAgICAgIGNvZGVIbERhcmsuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRpYWdyYW1FbmFibGVkKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCJJbml0aWFsaXppbmcgTWVybWFpZCB3aXRoIGRhcmsgdGhlbWVcIik7XG4gICAgICAgIGlmIChpbml0KSB7XG4gICAgICAgICAgd2luZG93Lm1lcm1haWQuaW5pdGlhbGl6ZSh7c3RhcnRPbkxvYWQ6IGZhbHNlLCB0aGVtZTogXCJkYXJrXCIsIHNlY3VyaXR5TGV2ZWw6IFwibG9vc2VcIn0pO1xuICAgICAgICAgIGZpeE1lcm1haWQodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gb25NZWRpYVF1ZXJ5TGlzdEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKCFjYW5DaGFuZ2VUaGVtZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRhcmtNb2RlT24gPSBldmVudC5tYXRjaGVzO1xuICAgIGNvbnNvbGUuZGVidWcoYE9TIGRhcmsgbW9kZSBwcmVmZXJlbmNlIGNoYW5nZWQgdG8gJHtkYXJrTW9kZU9uID8gXCJcXHV7MUYzMTJ9IG9uXCIgOiBcIlxcdTI2MDBcXHVGRTBGIG9mZlwifS5gKTtcbiAgICBsZXQgY3VycmVudFRoZW1lVmFyaWF0aW9uID0gZ2V0VGhlbWVNb2RlKCk7XG4gICAgbGV0IGlzRGFya1RoZW1lO1xuICAgIGlmIChjdXJyZW50VGhlbWVWYXJpYXRpb24gPT09IDIpIHtcbiAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcykge1xuICAgICAgICBpc0RhcmtUaGVtZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIikubWF0Y2hlcykge1xuICAgICAgICBpc0RhcmtUaGVtZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrO1xuICAgICAgfVxuICAgICAgcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIGN1cnJlbnRUaGVtZVZhcmlhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gPHN0ZGluPlxuICBjb25zb2xlLmRlYnVnKGBFbnZpcm9ubWVudDogJHtodWdvRW52aXJvbm1lbnR9YCk7XG4gIGZ1bmN0aW9uIGdldE5hdkJhckhlaWdodCgpIHtcbiAgICBsZXQgJG5hdmJhciA9ICQoXCIjbmF2YmFyLW1haW5cIik7XG4gICAgbGV0IG5hdmJhcl9vZmZzZXQgPSAkbmF2YmFyLm91dGVySGVpZ2h0KCk7XG4gICAgY29uc29sZS5kZWJ1ZyhcIk5hdmJhciBoZWlnaHQ6IFwiICsgbmF2YmFyX29mZnNldCk7XG4gICAgcmV0dXJuIG5hdmJhcl9vZmZzZXQ7XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsVG9BbmNob3IodGFyZ2V0LCBkdXJhdGlvbiA9IDApIHtcbiAgICB0YXJnZXQgPSB0eXBlb2YgdGFyZ2V0ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIgPyBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2gpIDogdGFyZ2V0O1xuICAgIGlmICgkKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICB0YXJnZXQgPSBcIiNcIiArICQuZXNjYXBlU2VsZWN0b3IodGFyZ2V0LnN1YnN0cmluZygxKSk7XG4gICAgICBsZXQgZWxlbWVudE9mZnNldCA9IE1hdGguY2VpbCgkKHRhcmdldCkub2Zmc2V0KCkudG9wIC0gZ2V0TmF2QmFySGVpZ2h0KCkpO1xuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJzY3JvbGxpbmdcIik7XG4gICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50T2Zmc2V0XG4gICAgICB9LCBkdXJhdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwic2Nyb2xsaW5nXCIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJDYW5ub3Qgc2Nyb2xsIHRvIHRhcmdldCBgI1wiICsgdGFyZ2V0ICsgXCJgLiBJRCBub3QgZm91bmQhXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBmaXhTY3JvbGxzcHkoKSB7XG4gICAgbGV0ICRib2R5ID0gJChcImJvZHlcIik7XG4gICAgbGV0IGRhdGEgPSAkYm9keS5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICBkYXRhLl9jb25maWcub2Zmc2V0ID0gZ2V0TmF2QmFySGVpZ2h0KCk7XG4gICAgICAkYm9keS5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIsIGRhdGEpO1xuICAgICAgJGJvZHkuc2Nyb2xsc3B5KFwicmVmcmVzaFwiKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlUXVlcnlQYXJhbXNGcm9tVXJsKCkge1xuICAgIGlmICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIGxldCB1cmxXaXRob3V0U2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7cGF0aDogdXJsV2l0aG91dFNlYXJjaFBhcmFtc30sIFwiXCIsIHVybFdpdGhvdXRTZWFyY2hQYXJhbXMpO1xuICAgIH1cbiAgfVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgc2Nyb2xsVG9BbmNob3IpO1xuICAkKFwiI25hdmJhci1tYWluIGxpLm5hdi1pdGVtIGEubmF2LWxpbmssIC5qcy1zY3JvbGxcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgIGxldCBoYXNoID0gdGhpcy5oYXNoO1xuICAgIGlmICh0aGlzLnBhdGhuYW1lID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgJiYgaGFzaCAmJiAkKGhhc2gpLmxlbmd0aCAmJiAkKFwiLmpzLXdpZGdldC1wYWdlXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgZWxlbWVudE9mZnNldCA9IE1hdGguY2VpbCgkKGhhc2gpLm9mZnNldCgpLnRvcCAtIGdldE5hdkJhckhlaWdodCgpKTtcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IGVsZW1lbnRPZmZzZXRcbiAgICAgIH0sIDgwMCk7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5uYXZiYXItY29sbGFwc2Uuc2hvd1wiLCBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHRhcmdldEVsZW1lbnQgPSAkKGUudGFyZ2V0KS5pcyhcImFcIikgPyAkKGUudGFyZ2V0KSA6ICQoZS50YXJnZXQpLnBhcmVudCgpO1xuICAgIGlmICh0YXJnZXRFbGVtZW50LmlzKFwiYVwiKSAmJiB0YXJnZXRFbGVtZW50LmF0dHIoXCJjbGFzc1wiKSAhPSBcImRyb3Bkb3duLXRvZ2dsZVwiKSB7XG4gICAgICAkKHRoaXMpLmNvbGxhcHNlKFwiaGlkZVwiKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgcHViRmlsdGVycyA9IHt9O1xuICB2YXIgc2VhcmNoUmVnZXg7XG4gIHZhciBmaWx0ZXJWYWx1ZXM7XG4gIHZhciAkZ3JpZF9wdWJzID0gJChcIiNjb250YWluZXItcHVibGljYXRpb25zXCIpO1xuICBpZiAoJGdyaWRfcHVicy5sZW5ndGgpIHtcbiAgICAkZ3JpZF9wdWJzLmlzb3RvcGUoe1xuICAgICAgaXRlbVNlbGVjdG9yOiBcIi5pc290b3BlLWl0ZW1cIixcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIG1hc29ucnk6IHtcbiAgICAgICAgY29sdW1uV2lkdGg6IFwiLmdyaWQtc2l6ZXJcIlxuICAgICAgfSxcbiAgICAgIGZpbHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIGxldCBzZWFyY2hSZXN1bHRzID0gc2VhcmNoUmVnZXggPyAkdGhpcy50ZXh0KCkubWF0Y2goc2VhcmNoUmVnZXgpIDogdHJ1ZTtcbiAgICAgICAgbGV0IGZpbHRlclJlc3VsdHMgPSBmaWx0ZXJWYWx1ZXMgPyAkdGhpcy5pcyhmaWx0ZXJWYWx1ZXMpIDogdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdHMgJiYgZmlsdGVyUmVzdWx0cztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgJHF1aWNrU2VhcmNoID0gJChcIi5maWx0ZXItc2VhcmNoXCIpLmtleXVwKGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgc2VhcmNoUmVnZXggPSBuZXcgUmVnRXhwKCRxdWlja1NlYXJjaC52YWwoKSwgXCJnaVwiKTtcbiAgICAgICRncmlkX3B1YnMuaXNvdG9wZSgpO1xuICAgIH0pKTtcbiAgICAkKFwiLnB1Yi1maWx0ZXJzXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIGxldCBmaWx0ZXJHcm91cCA9ICR0aGlzWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsdGVyLWdyb3VwXCIpO1xuICAgICAgcHViRmlsdGVyc1tmaWx0ZXJHcm91cF0gPSB0aGlzLnZhbHVlO1xuICAgICAgZmlsdGVyVmFsdWVzID0gY29uY2F0VmFsdWVzKHB1YkZpbHRlcnMpO1xuICAgICAgJGdyaWRfcHVicy5pc290b3BlKCk7XG4gICAgICBpZiAoZmlsdGVyR3JvdXAgPT09IFwicHVidHlwZVwiKSB7XG4gICAgICAgIGxldCB1cmwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICBpZiAodXJsLnN1YnN0cigwLCA5KSA9PT0gXCIucHVidHlwZS1cIikge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdXJsLnN1YnN0cig5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZWJvdW5jZShmbiwgdGhyZXNob2xkKSB7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgdGhyZXNob2xkID0gdGhyZXNob2xkIHx8IDEwMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgbGV0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gZGVsYXllZCgpIHtcbiAgICAgICAgZm4uYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZGVsYXllZCwgdGhyZXNob2xkKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGNvbmNhdFZhbHVlcyhvYmopIHtcbiAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgIGZvciAobGV0IHByb3AgaW4gb2JqKSB7XG4gICAgICB2YWx1ZSArPSBvYmpbcHJvcF07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBmdW5jdGlvbiBmaWx0ZXJfcHVibGljYXRpb25zKCkge1xuICAgIGlmICghJGdyaWRfcHVicy5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHVybEhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcbiAgICBsZXQgZmlsdGVyVmFsdWUgPSBcIipcIjtcbiAgICBpZiAodXJsSGFzaCAhPSBcIlwiICYmICFpc05hTih1cmxIYXNoKSkge1xuICAgICAgZmlsdGVyVmFsdWUgPSBcIi5wdWJ0eXBlLVwiICsgdXJsSGFzaDtcbiAgICB9XG4gICAgbGV0IGZpbHRlckdyb3VwID0gXCJwdWJ0eXBlXCI7XG4gICAgcHViRmlsdGVyc1tmaWx0ZXJHcm91cF0gPSBmaWx0ZXJWYWx1ZTtcbiAgICBmaWx0ZXJWYWx1ZXMgPSBjb25jYXRWYWx1ZXMocHViRmlsdGVycyk7XG4gICAgJGdyaWRfcHVicy5pc290b3BlKCk7XG4gICAgJChcIi5wdWJ0eXBlLXNlbGVjdFwiKS52YWwoZmlsdGVyVmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gICAgaWYgKCQoXCIjbWFwXCIpLmxlbmd0aCkge1xuICAgICAgbGV0IG1hcF9wcm92aWRlciA9ICQoXCIjbWFwLXByb3ZpZGVyXCIpLnZhbCgpO1xuICAgICAgbGV0IGxhdCA9ICQoXCIjbWFwLWxhdFwiKS52YWwoKTtcbiAgICAgIGxldCBsbmcgPSAkKFwiI21hcC1sbmdcIikudmFsKCk7XG4gICAgICBsZXQgem9vbSA9IHBhcnNlSW50KCQoXCIjbWFwLXpvb21cIikudmFsKCkpO1xuICAgICAgbGV0IGFkZHJlc3MgPSAkKFwiI21hcC1kaXJcIikudmFsKCk7XG4gICAgICBsZXQgYXBpX2tleSA9ICQoXCIjbWFwLWFwaS1rZXlcIikudmFsKCk7XG4gICAgICBpZiAobWFwX3Byb3ZpZGVyID09PSBcImdvb2dsZVwiKSB7XG4gICAgICAgIGxldCBtYXAgPSBuZXcgR01hcHMoe1xuICAgICAgICAgIGRpdjogXCIjbWFwXCIsXG4gICAgICAgICAgbGF0LFxuICAgICAgICAgIGxuZyxcbiAgICAgICAgICB6b29tLFxuICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLFxuICAgICAgICAgIHpvb21Db250cm9sT3B0OiB7XG4gICAgICAgICAgICBzdHlsZTogXCJTTUFMTFwiLFxuICAgICAgICAgICAgcG9zaXRpb246IFwiVE9QX0xFRlRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgIG1hcFR5cGVDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICBnZXN0dXJlSGFuZGxpbmc6IFwiY29vcGVyYXRpdmVcIlxuICAgICAgICB9KTtcbiAgICAgICAgbWFwLmFkZE1hcmtlcih7XG4gICAgICAgICAgbGF0LFxuICAgICAgICAgIGxuZyxcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gXCJodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvcGxhY2UvXCIgKyBlbmNvZGVVUklDb21wb25lbnQoYWRkcmVzcykgKyBcIi9AXCIgKyBsYXQgKyBcIixcIiArIGxuZyArIFwiL1wiO1xuICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpdGxlOiBhZGRyZXNzXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBMLm1hcChcIm1hcFwiKS5zZXRWaWV3KFtsYXQsIGxuZ10sIHpvb20pO1xuICAgICAgICBpZiAobWFwX3Byb3ZpZGVyID09PSBcIm1hcGJveFwiICYmIGFwaV9rZXkubGVuZ3RoKSB7XG4gICAgICAgICAgTC50aWxlTGF5ZXIoXCJodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj17YWNjZXNzVG9rZW59XCIsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsIDxhIGhyZWY9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvXCI+Q0MtQlktU0E8L2E+LCBJbWFnZXJ5IFxceEE5IDxhIGhyZWY9XCJodHRwOi8vbWFwYm94LmNvbVwiPk1hcGJveDwvYT4nLFxuICAgICAgICAgICAgdGlsZVNpemU6IDUxMixcbiAgICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgICAgem9vbU9mZnNldDogLTEsXG4gICAgICAgICAgICBpZDogXCJtYXBib3gvc3RyZWV0cy12MTFcIixcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhcGlfa2V5XG4gICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMLnRpbGVMYXllcihcImh0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nXCIsIHtcbiAgICAgICAgICAgIG1heFpvb206IDE5LFxuICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4nXG4gICAgICAgICAgfSkuYWRkVG8obWFwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFya2VyID0gTC5tYXJrZXIoW2xhdCwgbG5nXSkuYWRkVG8obWFwKTtcbiAgICAgICAgbGV0IHVybCA9IGxhdCArIFwiLFwiICsgbG5nICsgXCIjbWFwPVwiICsgem9vbSArIFwiL1wiICsgbGF0ICsgXCIvXCIgKyBsbmcgKyBcIiZsYXllcnM9TlwiO1xuICAgICAgICBtYXJrZXIuYmluZFBvcHVwKGFkZHJlc3MgKyAnPHA+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2RpcmVjdGlvbnM/ZW5naW5lPW9zcm1fY2FyJnJvdXRlPScgKyB1cmwgKyAnXCI+Um91dGluZyB2aWEgT3BlblN0cmVldE1hcDwvYT48L3A+Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHByaW50TGF0ZXN0UmVsZWFzZShzZWxlY3RvciwgcmVwbykge1xuICAgIGlmIChodWdvRW52aXJvbm1lbnQgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAkLmdldEpTT04oXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL1wiICsgcmVwbyArIFwiL3RhZ3NcIikuZG9uZShmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIGxldCByZWxlYXNlID0ganNvblswXTtcbiAgICAgICAgJChzZWxlY3RvcikuYXBwZW5kKFwiIFwiICsgcmVsZWFzZS5uYW1lKTtcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgIGxldCBlcnIgPSB0ZXh0U3RhdHVzICsgXCIsIFwiICsgZXJyb3I7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVxdWVzdCBGYWlsZWQ6IFwiICsgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b2dnbGVTZWFyY2hEaWFsb2coKSB7XG4gICAgaWYgKCQoXCJib2R5XCIpLmhhc0NsYXNzKFwic2VhcmNoaW5nXCIpKSB7XG4gICAgICAkKFwiW2lkPXNlYXJjaC1xdWVyeV1cIikuYmx1cigpO1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzZWFyY2hpbmcgY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpO1xuICAgICAgcmVtb3ZlUXVlcnlQYXJhbXNGcm9tVXJsKCk7XG4gICAgICAkKFwiI2ZhbmN5Ym94LXN0eWxlLW5vc2Nyb2xsXCIpLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISQoXCIjZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIikubGVuZ3RoICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICQoXCJoZWFkXCIpLmFwcGVuZCgnPHN0eWxlIGlkPVwiZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIj4uY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFye21hcmdpbi1yaWdodDonICsgKHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSArIFwicHg7fTwvc3R5bGU+XCIpO1xuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhclwiKTtcbiAgICAgIH1cbiAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwic2VhcmNoaW5nXCIpO1xuICAgICAgJChcIi5zZWFyY2gtcmVzdWx0c1wiKS5jc3Moe29wYWNpdHk6IDAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwifSkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDIwMCk7XG4gICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS5mb2N1cygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBub3JtYWxpemVDYXJvdXNlbFNsaWRlSGVpZ2h0cygpIHtcbiAgICAkKFwiLmNhcm91c2VsXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgaXRlbXMgPSAkKFwiLmNhcm91c2VsLWl0ZW1cIiwgdGhpcyk7XG4gICAgICBpdGVtcy5jc3MoXCJtaW4taGVpZ2h0XCIsIDApO1xuICAgICAgbGV0IG1heEhlaWdodCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGl0ZW1zLm1hcChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQodGhpcykub3V0ZXJIZWlnaHQoKTtcbiAgICAgIH0pLmdldCgpKTtcbiAgICAgIGl0ZW1zLmNzcyhcIm1pbi1oZWlnaHRcIiwgbWF4SGVpZ2h0ICsgXCJweFwiKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBmaXhIdWdvT3V0cHV0KCkge1xuICAgICQoXCIjVGFibGVPZkNvbnRlbnRzXCIpLmFkZENsYXNzKFwibmF2IGZsZXgtY29sdW1uXCIpO1xuICAgICQoXCIjVGFibGVPZkNvbnRlbnRzIGxpXCIpLmFkZENsYXNzKFwibmF2LWl0ZW1cIik7XG4gICAgJChcIiNUYWJsZU9mQ29udGVudHMgbGkgYVwiKS5hZGRDbGFzcyhcIm5hdi1saW5rXCIpO1xuICAgICQoXCJpbnB1dFt0eXBlPSdjaGVja2JveCddW2Rpc2FibGVkXVwiKS5wYXJlbnRzKFwidWxcIikuYWRkQ2xhc3MoXCJ0YXNrLWxpc3RcIik7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2libGluZ3MoZWxlbSkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWxlbS5wYXJlbnROb2RlLmNoaWxkcmVuLCBmdW5jdGlvbihzaWJsaW5nKSB7XG4gICAgICByZXR1cm4gc2libGluZyAhPT0gZWxlbTtcbiAgICB9KTtcbiAgfVxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBmaXhIdWdvT3V0cHV0KCk7XG4gICAgbGV0IHtpc0RhcmtUaGVtZSwgdGhlbWVNb2RlfSA9IGluaXRUaGVtZVZhcmlhdGlvbigpO1xuICAgIHJlbmRlclRoZW1lVmFyaWF0aW9uKGlzRGFya1RoZW1lLCB0aGVtZU1vZGUsIHRydWUpO1xuICAgIGlmIChjb2RlSGlnaGxpZ2h0aW5nKSB7XG4gICAgICBobGpzLmluaXRIaWdobGlnaHRpbmcoKTtcbiAgICB9XG4gICAgbGV0IGNoaWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2NzLWxpbmtzIC5hY3RpdmVcIik7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZG9jcy1saW5rc1wiKTtcbiAgICBpZiAoY2hpbGQgJiYgcGFyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnRUb0NoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbiAgfSk7XG4gICQod2luZG93KS5vbihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgZml4U2Nyb2xsc3B5KCk7XG4gICAgbGV0IGlzb3RvcGVJbnN0YW5jZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgICBsZXQgaXNvdG9wZUluc3RhbmNlc0NvdW50ID0gaXNvdG9wZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoICYmIGlzb3RvcGVJbnN0YW5jZXNDb3VudCA9PT0gMCkge1xuICAgICAgc2Nyb2xsVG9BbmNob3IoZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoKSwgMCk7XG4gICAgfVxuICAgIGxldCBjaGlsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZG9jcy10b2MgLm5hdi1saW5rLmFjdGl2ZVwiKTtcbiAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2NzLXRvY1wiKTtcbiAgICBpZiAoY2hpbGQgJiYgcGFyZW50KSB7XG4gICAgICBzY3JvbGxQYXJlbnRUb0NoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbiAgICBsZXQgem9vbU9wdGlvbnMgPSB7fTtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpKSB7XG4gICAgICB6b29tT3B0aW9ucy5iYWNrZ3JvdW5kID0gXCJyZ2JhKDAsMCwwLDAuOSlcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgem9vbU9wdGlvbnMuYmFja2dyb3VuZCA9IFwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCI7XG4gICAgfVxuICAgIG1lZGl1bV96b29tX2VzbV9kZWZhdWx0KFwiW2RhdGEtem9vbWFibGVdXCIsIHpvb21PcHRpb25zKTtcbiAgICBsZXQgaXNvdG9wZUNvdW50ZXIgPSAwO1xuICAgIGlzb3RvcGVJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpc290b3BlSW5zdGFuY2UsIGluZGV4KSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBMb2FkaW5nIElzb3RvcGUgaW5zdGFuY2UgJHtpbmRleH1gKTtcbiAgICAgIGxldCBpc287XG4gICAgICBsZXQgaXNvU2VjdGlvbiA9IGlzb3RvcGVJbnN0YW5jZS5jbG9zZXN0KFwic2VjdGlvblwiKTtcbiAgICAgIGxldCBsYXlvdXQgPSBcIlwiO1xuICAgICAgaWYgKGlzb1NlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5pc290b3BlXCIpLmNsYXNzTGlzdC5jb250YWlucyhcImpzLWxheW91dC1yb3dcIikpIHtcbiAgICAgICAgbGF5b3V0ID0gXCJmaXRSb3dzXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXlvdXQgPSBcIm1hc29ucnlcIjtcbiAgICAgIH1cbiAgICAgIGxldCBkZWZhdWx0RmlsdGVyID0gaXNvU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmRlZmF1bHQtcHJvamVjdC1maWx0ZXJcIik7XG4gICAgICBsZXQgZmlsdGVyVGV4dCA9IFwiKlwiO1xuICAgICAgaWYgKGRlZmF1bHRGaWx0ZXIgIT09IG51bGwpIHtcbiAgICAgICAgZmlsdGVyVGV4dCA9IGRlZmF1bHRGaWx0ZXIudGV4dENvbnRlbnQ7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmRlYnVnKGBEZWZhdWx0IElzb3RvcGUgZmlsdGVyOiAke2ZpbHRlclRleHR9YCk7XG4gICAgICBpbWFnZXNMb2FkZWQoaXNvdG9wZUluc3RhbmNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNvID0gbmV3IElzb3RvcGUoaXNvdG9wZUluc3RhbmNlLCB7XG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiBcIi5pc290b3BlLWl0ZW1cIixcbiAgICAgICAgICBsYXlvdXRNb2RlOiBsYXlvdXQsXG4gICAgICAgICAgbWFzb25yeToge1xuICAgICAgICAgICAgZ3V0dGVyOiAyMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmlsdGVyOiBmaWx0ZXJUZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaXNvRmlsdGVyQnV0dG9ucyA9IGlzb1NlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LWZpbHRlcnMgYVwiKTtcbiAgICAgICAgaXNvRmlsdGVyQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgbGV0IHNlbGVjdG9yID0gYnV0dG9uLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsdGVyXCIpO1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFVwZGF0aW5nIElzb3RvcGUgZmlsdGVyIHRvICR7c2VsZWN0b3J9YCk7XG4gICAgICAgICAgaXNvLmFycmFuZ2Uoe2ZpbHRlcjogc2VsZWN0b3J9KTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICBsZXQgYnV0dG9uU2libGluZ3MgPSBnZXRTaWJsaW5ncyhidXR0b24pO1xuICAgICAgICAgIGJ1dHRvblNpYmxpbmdzLmZvckVhY2goKGJ1dHRvblNpYmxpbmcpID0+IHtcbiAgICAgICAgICAgIGJ1dHRvblNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGJ1dHRvblNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShcImFsbFwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpbmNyZW1lbnRJc290b3BlQ291bnRlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gaW5jcmVtZW50SXNvdG9wZUNvdW50ZXIoKSB7XG4gICAgICBpc290b3BlQ291bnRlcisrO1xuICAgICAgaWYgKGlzb3RvcGVDb3VudGVyID09PSBpc290b3BlSW5zdGFuY2VzQ291bnQpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgQWxsIFBvcnRmb2xpbyBJc290b3BlIGluc3RhbmNlcyBsb2FkZWQuYCk7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgIHNjcm9sbFRvQW5jaG9yKGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaCksIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgkKFwiLnB1Yi1maWx0ZXJzLXNlbGVjdFwiKSkge1xuICAgICAgZmlsdGVyX3B1YmxpY2F0aW9ucygpO1xuICAgIH1cbiAgICAkKFwiLmpzLWNpdGUtbW9kYWxcIikuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IGZpbGVuYW1lID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1maWxlbmFtZVwiKTtcbiAgICAgIGxldCBtb2RhbCA9ICQoXCIjbW9kYWxcIik7XG4gICAgICBtb2RhbC5maW5kKFwiLm1vZGFsLWJvZHkgY29kZVwiKS5sb2FkKGZpbGVuYW1lLCBmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzLCB4aHIpIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PSBcImVycm9yXCIpIHtcbiAgICAgICAgICBsZXQgbXNnID0gXCJFcnJvcjogXCI7XG4gICAgICAgICAgJChcIiNtb2RhbC1lcnJvclwiKS5odG1sKG1zZyArIHhoci5zdGF0dXMgKyBcIiBcIiArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKFwiLmpzLWRvd25sb2FkLWNpdGVcIikuYXR0cihcImhyZWZcIiwgZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vZGFsLm1vZGFsKFwic2hvd1wiKTtcbiAgICB9KTtcbiAgICAkKFwiLmpzLWNvcHktY2l0ZVwiKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgbGV0IGNvZGVfbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwgLm1vZGFsLWJvZHlcIik7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlKGNvZGVfbm9kZSk7XG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogY2l0YXRpb24gY29weSBmYWlsZWQuXCIpO1xuICAgICAgfVxuICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZVJhbmdlKHJhbmdlKTtcbiAgICB9KTtcbiAgICBpbml0TWFwKCk7XG4gICAgbGV0IGdpdGh1YlJlbGVhc2VTZWxlY3RvciA9IFwiLmpzLWdpdGh1Yi1yZWxlYXNlXCI7XG4gICAgaWYgKCQoZ2l0aHViUmVsZWFzZVNlbGVjdG9yKS5sZW5ndGggPiAwKSB7XG4gICAgICBwcmludExhdGVzdFJlbGVhc2UoZ2l0aHViUmVsZWFzZVNlbGVjdG9yLCAkKGdpdGh1YlJlbGVhc2VTZWxlY3RvcikuZGF0YShcInJlcG9cIikpO1xuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICBjb25zdCBib2R5MiA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIGlmIChib2R5Mi5jbGFzc0xpc3QuY29udGFpbnMoXCJzZWFyY2hpbmdcIikpIHtcbiAgICAgICAgICB0b2dnbGVTZWFyY2hEaWFsb2coKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCIvXCIpIHtcbiAgICAgICAgbGV0IGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8IG51bGw7XG4gICAgICAgIGxldCBpc0lucHV0Rm9jdXNlZCA9IGZvY3VzZWRFbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBmb2N1c2VkRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgIGlmIChzZWFyY2hFbmFibGVkICYmICFpc0lucHV0Rm9jdXNlZCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdG9nZ2xlU2VhcmNoRGlhbG9nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc2VhcmNoRW5hYmxlZCkge1xuICAgICAgJChcIi5qcy1zZWFyY2hcIikuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRvZ2dsZVNlYXJjaERpYWxvZygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XG4gIH0pO1xuICB2YXIgbGlua0xpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zZXQtdGhlbWUtbGlnaHRcIik7XG4gIHZhciBsaW5rRGFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc2V0LXRoZW1lLWRhcmtcIik7XG4gIHZhciBsaW5rQXV0byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc2V0LXRoZW1lLWF1dG9cIik7XG4gIGlmIChsaW5rTGlnaHQgJiYgbGlua0RhcmsgJiYgbGlua0F1dG8pIHtcbiAgICBsaW5rTGlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNoYW5nZVRoZW1lTW9kZUNsaWNrKDApO1xuICAgIH0pO1xuICAgIGxpbmtEYXJrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjaGFuZ2VUaGVtZU1vZGVDbGljaygxKTtcbiAgICB9KTtcbiAgICBsaW5rQXV0by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2hhbmdlVGhlbWVNb2RlQ2xpY2soMik7XG4gICAgfSk7XG4gIH1cbiAgdmFyIGRhcmtNb2RlTWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKTtcbiAgZGFya01vZGVNZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgb25NZWRpYVF1ZXJ5TGlzdEV2ZW50KGV2ZW50KTtcbiAgfSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBub3JtYWxpemVDYXJvdXNlbFNsaWRlSGVpZ2h0cyk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIG5vcm1hbGl6ZUNhcm91c2VsU2xpZGVIZWlnaHRzKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBub3JtYWxpemVDYXJvdXNlbFNsaWRlSGVpZ2h0cyk7XG4gICQoXCJib2R5XCIpLm9uKFwibW91c2VlbnRlciBtb3VzZWxlYXZlXCIsIFwiLmRyb3Bkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZHJvcGRvd24gPSAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmRyb3Bkb3duXCIpO1xuICAgIHZhciBtZW51ID0gJChcIi5kcm9wZG93bi1tZW51XCIsIGRyb3Bkb3duKTtcbiAgICBkcm9wZG93bi5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgbWVudS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRyb3Bkb3duW2Ryb3Bkb3duLmlzKFwiOmhvdmVyXCIpID8gXCJhZGRDbGFzc1wiIDogXCJyZW1vdmVDbGFzc1wiXShcInNob3dcIik7XG4gICAgICBtZW51W2Ryb3Bkb3duLmlzKFwiOmhvdmVyXCIpID8gXCJhZGRDbGFzc1wiIDogXCJyZW1vdmVDbGFzc1wiXShcInNob3dcIik7XG4gICAgfSwgMzAwKTtcbiAgfSk7XG4gIHZhciByZXNpemVUaW1lcjtcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuICAgIHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmaXhTY3JvbGxzcHksIDIwMCk7XG4gIH0pO1xufSkoKTtcblxuO1xuKCgpID0+IHtcbiAgLy8gbnMtcGFyYW1zOkBwYXJhbXNcbiAgdmFyIGNvbnRlbnRfdHlwZSA9IHthdXRob3JzOiBcIlxcdTg0NTdcXHU4MDA1XCIsIGV2ZW50OiBcIlxcdTc2N0JcXHU1OEM3XCIsIHBvc3Q6IFwiXFx1NjI5NVxcdTdBM0ZcIiwgcHJvamVjdDogXCJcXHUzMEQ3XFx1MzBFRFxcdTMwQjhcXHUzMEE3XFx1MzBBRlxcdTMwQzhcIiwgcHVibGljYXRpb246IFwiXFx1NzY3QVxcdTg4NjhcXHU2NTg3XFx1NzMyRVwiLCBzbGlkZXM6IFwiXFx1MzBCOVxcdTMwRTlcXHUzMEE0XFx1MzBDOVwifTtcbiAgdmFyIGkxOG4gPSB7bm9fcmVzdWx0czogXCJcXHU3RDUwXFx1Njc5Q1xcdTMwNENcXHU4OThCXFx1MzA2NFxcdTMwNEJcXHUzMDhBXFx1MzA3RVxcdTMwNUJcXHUzMDkzXFx1MzA2N1xcdTMwNTdcXHUzMDVGXCIsIHBsYWNlaG9sZGVyOiBcIlxcdTY5MUNcXHU3RDIyXCIsIHJlc3VsdHM6IFwiXFx1NjkxQ1xcdTdEMjJcXHU3RDUwXFx1Njc5Q1wifTtcbiAgdmFyIHNlYXJjaF9jb25maWcgPSB7aW5kZXhVUkk6IFwiL2luZGV4Lmpzb25cIiwgbWluTGVuZ3RoOiAxLCB0aHJlc2hvbGQ6IDAuM307XG5cbiAgLy8gPHN0ZGluPlxuICB2YXIgZnVzZU9wdGlvbnMgPSB7XG4gICAgc2hvdWxkU29ydDogdHJ1ZSxcbiAgICBpbmNsdWRlTWF0Y2hlczogdHJ1ZSxcbiAgICB0b2tlbml6ZTogdHJ1ZSxcbiAgICB0aHJlc2hvbGQ6IHNlYXJjaF9jb25maWcudGhyZXNob2xkLFxuICAgIGxvY2F0aW9uOiAwLFxuICAgIGRpc3RhbmNlOiAxMDAsXG4gICAgbWF4UGF0dGVybkxlbmd0aDogMzIsXG4gICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiBzZWFyY2hfY29uZmlnLm1pbkxlbmd0aCxcbiAgICBrZXlzOiBbXG4gICAgICB7bmFtZTogXCJ0aXRsZVwiLCB3ZWlnaHQ6IDAuOTl9LFxuICAgICAge25hbWU6IFwic3VtbWFyeVwiLCB3ZWlnaHQ6IDAuNn0sXG4gICAgICB7bmFtZTogXCJhdXRob3JzXCIsIHdlaWdodDogMC41fSxcbiAgICAgIHtuYW1lOiBcImNvbnRlbnRcIiwgd2VpZ2h0OiAwLjJ9LFxuICAgICAge25hbWU6IFwidGFnc1wiLCB3ZWlnaHQ6IDAuNX0sXG4gICAgICB7bmFtZTogXCJjYXRlZ29yaWVzXCIsIHdlaWdodDogMC41fVxuICAgIF1cbiAgfTtcbiAgdmFyIHN1bW1hcnlMZW5ndGggPSA2MDtcbiAgZnVuY3Rpb24gZ2V0U2VhcmNoUXVlcnkobmFtZSkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoKGxvY2F0aW9uLnNlYXJjaC5zcGxpdChuYW1lICsgXCI9XCIpWzFdIHx8IFwiXCIpLnNwbGl0KFwiJlwiKVswXSkucmVwbGFjZSgvXFwrL2csIFwiIFwiKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVVUkwodXJsKSB7XG4gICAgaWYgKGhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe3BhdGg6IHVybH0sIFwiXCIsIHVybCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXRTZWFyY2goZm9yY2UsIGZ1c2UpIHtcbiAgICBsZXQgcXVlcnkgPSAkKFwiI3NlYXJjaC1xdWVyeVwiKS52YWwoKTtcbiAgICBpZiAocXVlcnkubGVuZ3RoIDwgMSkge1xuICAgICAgJChcIiNzZWFyY2gtaGl0c1wiKS5lbXB0eSgpO1xuICAgICAgJChcIiNzZWFyY2gtY29tbW9uLXF1ZXJpZXNcIikuc2hvdygpO1xuICAgIH1cbiAgICBpZiAoIWZvcmNlICYmIHF1ZXJ5Lmxlbmd0aCA8IGZ1c2VPcHRpb25zLm1pbk1hdGNoQ2hhckxlbmd0aClcbiAgICAgIHJldHVybjtcbiAgICAkKFwiI3NlYXJjaC1oaXRzXCIpLmVtcHR5KCk7XG4gICAgJChcIiNzZWFyY2gtY29tbW9uLXF1ZXJpZXNcIikuaGlkZSgpO1xuICAgIHNlYXJjaEFjYWRlbWljKHF1ZXJ5LCBmdXNlKTtcbiAgICBsZXQgbmV3VVJMID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyBcIj9xPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSArIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgIHVwZGF0ZVVSTChuZXdVUkwpO1xuICB9XG4gIGZ1bmN0aW9uIHNlYXJjaEFjYWRlbWljKHF1ZXJ5LCBmdXNlKSB7XG4gICAgbGV0IHJlc3VsdHMgPSBmdXNlLnNlYXJjaChxdWVyeSk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgJChcIiNzZWFyY2gtaGl0c1wiKS5hcHBlbmQoJzxoMyBjbGFzcz1cIm10LTBcIj4nICsgcmVzdWx0cy5sZW5ndGggKyBcIiBcIiArIGkxOG4ucmVzdWx0cyArIFwiPC9oMz5cIik7XG4gICAgICBwYXJzZVJlc3VsdHMocXVlcnksIHJlc3VsdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKFwiI3NlYXJjaC1oaXRzXCIpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNlYXJjaC1uby1yZXN1bHRzXCI+JyArIGkxOG4ubm9fcmVzdWx0cyArIFwiPC9kaXY+XCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXJzZVJlc3VsdHMocXVlcnksIHJlc3VsdHMpIHtcbiAgICAkLmVhY2gocmVzdWx0cywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgbGV0IGNvbnRlbnRfa2V5ID0gdmFsdWUuaXRlbS5zZWN0aW9uO1xuICAgICAgbGV0IGNvbnRlbnQgPSBcIlwiO1xuICAgICAgbGV0IHNuaXBwZXQgPSBcIlwiO1xuICAgICAgbGV0IHNuaXBwZXRIaWdobGlnaHRzID0gW107XG4gICAgICBpZiAoW1wicHVibGljYXRpb25cIiwgXCJldmVudFwiXS5pbmNsdWRlcyhjb250ZW50X2tleSkpIHtcbiAgICAgICAgY29udGVudCA9IHZhbHVlLml0ZW0uc3VtbWFyeTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSB2YWx1ZS5pdGVtLmNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoZnVzZU9wdGlvbnMudG9rZW5pemUpIHtcbiAgICAgICAgc25pcHBldEhpZ2hsaWdodHMucHVzaChxdWVyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkLmVhY2godmFsdWUubWF0Y2hlcywgZnVuY3Rpb24obWF0Y2hLZXksIG1hdGNoVmFsdWUpIHtcbiAgICAgICAgICBpZiAobWF0Y2hWYWx1ZS5rZXkgPT0gXCJjb250ZW50XCIpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG1hdGNoVmFsdWUuaW5kaWNlc1swXVswXSAtIHN1bW1hcnlMZW5ndGggPiAwID8gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzBdIC0gc3VtbWFyeUxlbmd0aCA6IDA7XG4gICAgICAgICAgICBsZXQgZW5kID0gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzFdICsgc3VtbWFyeUxlbmd0aCA8IGNvbnRlbnQubGVuZ3RoID8gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzFdICsgc3VtbWFyeUxlbmd0aCA6IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgICAgc25pcHBldCArPSBjb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIHNuaXBwZXRIaWdobGlnaHRzLnB1c2gobWF0Y2hWYWx1ZS52YWx1ZS5zdWJzdHJpbmcobWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzBdLCBtYXRjaFZhbHVlLmluZGljZXNbMF1bMV0gLSBtYXRjaFZhbHVlLmluZGljZXNbMF1bMF0gKyAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzbmlwcGV0Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgc25pcHBldCArPSB2YWx1ZS5pdGVtLnN1bW1hcnk7XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGUgPSAkKFwiI3NlYXJjaC1oaXQtZnVzZS10ZW1wbGF0ZVwiKS5odG1sKCk7XG4gICAgICBpZiAoY29udGVudF9rZXkgaW4gY29udGVudF90eXBlKSB7XG4gICAgICAgIGNvbnRlbnRfa2V5ID0gY29udGVudF90eXBlW2NvbnRlbnRfa2V5XTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgIGtleSxcbiAgICAgICAgdGl0bGU6IHZhbHVlLml0ZW0udGl0bGUsXG4gICAgICAgIHR5cGU6IGNvbnRlbnRfa2V5LFxuICAgICAgICByZWxwZXJtYWxpbms6IHZhbHVlLml0ZW0ucmVscGVybWFsaW5rLFxuICAgICAgICBzbmlwcGV0XG4gICAgICB9O1xuICAgICAgbGV0IG91dHB1dCA9IHJlbmRlcih0ZW1wbGF0ZSwgdGVtcGxhdGVEYXRhKTtcbiAgICAgICQoXCIjc2VhcmNoLWhpdHNcIikuYXBwZW5kKG91dHB1dCk7XG4gICAgICAkLmVhY2goc25pcHBldEhpZ2hsaWdodHMsIGZ1bmN0aW9uKGhsS2V5LCBobFZhbHVlKSB7XG4gICAgICAgICQoXCIjc3VtbWFyeS1cIiArIGtleSkubWFyayhobFZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSwgZGF0YSkge1xuICAgIGxldCBrZXksIGZpbmQsIHJlO1xuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGZpbmQgPSBcIlxcXFx7XFxcXHtcXFxccypcIiArIGtleSArIFwiXFxcXHMqXFxcXH1cXFxcfVwiO1xuICAgICAgcmUgPSBuZXcgUmVnRXhwKGZpbmQsIFwiZ1wiKTtcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShyZSwgZGF0YVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG4gIGlmICh0eXBlb2YgRnVzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgJC5nZXRKU09OKHNlYXJjaF9jb25maWcuaW5kZXhVUkksIGZ1bmN0aW9uKHNlYXJjaF9pbmRleCkge1xuICAgICAgbGV0IGZ1c2UgPSBuZXcgRnVzZShzZWFyY2hfaW5kZXgsIGZ1c2VPcHRpb25zKTtcbiAgICAgIGxldCBxdWVyeSA9IGdldFNlYXJjaFF1ZXJ5KFwicVwiKTtcbiAgICAgIGlmIChxdWVyeSkge1xuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNlYXJjaGluZ1wiKTtcbiAgICAgICAgJChcIi5zZWFyY2gtcmVzdWx0c1wiKS5jc3Moe29wYWNpdHk6IDAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwifSkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDIwMCk7XG4gICAgICAgICQoXCIjc2VhcmNoLXF1ZXJ5XCIpLnZhbChxdWVyeSk7XG4gICAgICAgICQoXCIjc2VhcmNoLXF1ZXJ5XCIpLmZvY3VzKCk7XG4gICAgICAgIGluaXRTZWFyY2godHJ1ZSwgZnVzZSk7XG4gICAgICB9XG4gICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCgkLmRhdGEodGhpcywgXCJzZWFyY2hUaW1lclwiKSk7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICBpbml0U2VhcmNoKHRydWUsIGZ1c2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcykuZGF0YShcInNlYXJjaFRpbWVyXCIsIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbml0U2VhcmNoKGZhbHNlLCBmdXNlKTtcbiAgICAgICAgICB9LCAyNTApKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pKCk7XG5cbjtcbi8vXHU1M0MyXHU4MDAzXHVGRjFBaHR0cHM6Ly9xaWl0YS5jb20vcnVrdXJ4L2l0ZW1zLzFlNTA0ZTJkYWNiNDFlMjY2OGYyXG4kKCcuY2FyZC1zaW1wbGUnKS5jbGljayhmdW5jdGlvbihldmVudCl7XG4gIGlmKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnYScpLmxlbmd0aCkge1xuICAgIC8vY2FyZC1zaW1wbGVcdTUxODVcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTRFRTVcdTU5MTZcdTMwNENcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTVcdTMwOENcdTMwNUZcdTU4MzRcdTU0MDhcbiAgICBsZXQgdXJsID0gJCh0aGlzKS5jaGlsZHJlbignLmFydGljbGUtdGl0bGUnKS5jaGlsZHJlbignYScpLmF0dHIoJ2hyZWYnKTtcbiAgICBpZighdXJsKSByZXR1cm47XG4gICAgbGV0IGJhc2VVcmwgPSAne3sgJC5TaXRlLkJhc2VVUkwgfX0nO1xuICAgIGxldCBpc0Fic29sdXRlVXJsID0gL15odHRwcz86XFwvXFwvL2kudGVzdCh1cmwpO1xuICAgIGxldCBpc0ludGVybmFsTGluayA9ICFpc0Fic29sdXRlVXJsIHx8IHVybC5zdGFydHNXaXRoKGJhc2VVcmwpO1xuICAgIGlmKGlzSW50ZXJuYWxMaW5rKXtcbiAgICAgIC8vXHUzMDUzXHUzMDZFXHUzMEQ2XHUzMEVEXHUzMEIwXHU1MTg1XHUzMDZFXHUzMERBXHUzMEZDXHUzMEI4XHUzMDc4XHUzMDZFXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDZBXHUzMDg5XHU1NDBDXHUzMDU4XHUzMEJGXHUzMEQ2XHUzMDY3XHU5NThCXHUzMDRGXG4gICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgIH1lbHNle1xuICAgICAgLy9cdTMwNTNcdTMwNkVcdTMwRDZcdTMwRURcdTMwQjBcdTRFRTVcdTU5MTZcdTMwNkVcdTMwREFcdTMwRkNcdTMwQjhcdTMwNzhcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTMwNkFcdTMwODlcdTY1QjBcdTMwNTdcdTMwNDRcdTMwQkZcdTMwRDZcdTMwNjdcdTk1OEJcdTMwNEZcbiAgICAgIHdpbmRvdy5vcGVuKHVybCwgXCJcIik7XG4gICAgfVxuICB9XG59KTsiXSwKICAibWFwcGluZ3MiOiAiOztBQUFBO0FBQ0E7QUFDQTtBQUdBLEVBQUM7QUFFQztBQUNBLFFBQUksV0FBVyxPQUFPLFVBQVUsU0FBUztBQUN2QyxlQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUTtBQUNwQyxZQUFJLFNBQVMsVUFBVTtBQUN2QixpQkFBUyxPQUFPO0FBQ2QsY0FBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFFBQVE7QUFDL0MsbUJBQU8sT0FBTyxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBSTNCLGFBQU87QUFBQTtBQUVULFFBQUksY0FBYyxzQkFBc0I7QUFDdEMsYUFBTyxLQUFLLFlBQVk7QUFBQTtBQUUxQixRQUFJLGFBQWEscUJBQXFCO0FBQ3BDLGFBQU8sU0FBUyxVQUFVLGNBQWM7QUFBQTtBQUUxQyxRQUFJLFNBQVMsaUJBQWlCO0FBQzVCLGFBQU8sWUFBWSxTQUFTLGFBQWE7QUFBQTtBQUUzQyxRQUFJLFFBQVEsZ0JBQWdCO0FBQzFCLFVBQUksU0FBUyxNQUFNLGNBQWMsTUFBTTtBQUN2QyxhQUFPLE9BQU8sT0FBTyxJQUFJLGtCQUFrQjtBQUFBO0FBRTdDLFFBQUksd0JBQXdCLGdDQUFnQztBQUMxRDtBQUNFLFlBQUksTUFBTSxRQUFRO0FBQ2hCLGlC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
