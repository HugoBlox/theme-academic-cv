---
title: test
author: ''
date: '2018-08-31'
slug: test
categories: []
tags: []
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<pre class="r"><code>#devtools::install_github(&quot;mkearney/kaggler&quot;)
library(kaggler)
library(tidyverse)</code></pre>
<pre><code>## Registered S3 methods overwritten by &#39;ggplot2&#39;:
##   method         from 
##   [.quosures     rlang
##   c.quosures     rlang
##   print.quosures rlang</code></pre>
<pre><code>## -- Attaching packages ----------------------------------------------------------------------------------- tidyverse 1.2.1 --</code></pre>
<pre><code>## v ggplot2 3.1.1       v purrr   0.3.2  
## v tibble  2.1.1       v dplyr   0.8.0.1
## v tidyr   0.8.3       v stringr 1.4.0  
## v readr   1.3.1       v forcats 0.4.0</code></pre>
<pre><code>## -- Conflicts -------------------------------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(kableExtra)</code></pre>
<pre><code>## Warning: package &#39;kableExtra&#39; was built under R version 3.6.1</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<pre class="r"><code>library(knitr)
library(plotly)</code></pre>
<pre><code>## Warning: package &#39;plotly&#39; was built under R version 3.6.1</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<p>Once your your key is recorded, you can search for competitions by name (or any keyword such as “classification”)
Here, I search for Walmart because I want the stores forecasting dataset</p>
<pre class="r"><code>walComps&lt;-kgl_competitions_list(search = &quot;Walmart&quot;)
walComps</code></pre>
<pre><code>##                                           ref
## 1 walmart-recruiting-trip-type-classification
## 2  walmart-recruiting-store-sales-forecasting
## 3  walmart-recruiting-sales-in-stormy-weather
##                                                                                                                                                                                                             tags
## 1 tabular data, multiclass classification, 88, 39, 74, 147, NA, NA, data type &gt; tabular data, problem type &gt; multiclass classification, FALSE, FALSE, tabular data, multiclass classification, 90, 270, 252, 456
## 2                                                                                                                                                                                                           NULL
## 3                                               tabular data, regression, 88, 14, 74, 42, NA, NA, data type &gt; tabular data, problem type &gt; regression, FALSE, FALSE, tabular data, regression, 90, 476, 252, 532
##                                                                     description
## 1                         Use market basket analysis to classify shopping trips
## 2                           Use historical markdown data to predict store sales
## 3 Predict how sales of weather-sensitive products are affected by snow and rain
##     id                                          title
## 1 4654   Walmart Recruiting: Trip Type Classification
## 2 3816   Walmart Recruiting - Store Sales Forecasting
## 3 4332 Walmart Recruiting II: Sales in Stormy Weather
##                                                                    url
## 1 https://www.kaggle.com/c/walmart-recruiting-trip-type-classification
## 2  https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting
## 3  https://www.kaggle.com/c/walmart-recruiting-sales-in-stormy-weather
##               deadline    category reward organizationName organizationRef
## 1 2015-12-27T23:59:00Z Recruitment   Jobs          Walmart         walmart
## 2 2014-05-05T23:59:00Z Recruitment   Jobs          Walmart         walmart
## 3 2015-05-25T23:59:00Z Recruitment   Jobs          Walmart         walmart
##   kernelCount teamCount userHasEntered userRank mergerDeadline
## 1           0      1046          FALSE       NA             NA
## 2           0       690           TRUE       NA             NA
## 3           0       485           TRUE       NA             NA
##     newEntrantDeadline              enabledDate maxDailySubmissions
## 1                 &lt;NA&gt;  2015-10-26T18:48:38.67Z                   5
## 2 2014-04-28T23:59:00Z 2014-02-20T14:02:21.513Z                   5
## 3 2015-05-18T23:59:00Z 2015-04-01T22:43:39.913Z                   5
##   maxTeamSize                    evaluationMetric awardsPoints
## 1           1                     Multiclass Loss         TRUE
## 2           1        Weighted Mean Absolute Error         TRUE
## 3           1 Root Mean Squared Logarithmic Error         TRUE
##   isKernelsSubmissionsOnly submissionsDisabled
## 1                    FALSE               FALSE
## 2                    FALSE               FALSE
## 3                    FALSE               FALSE</code></pre>
<p>To download the data, I need the id column entry for the forecasting dataset</p>
<pre class="r"><code>#get id for forecasting dataset
forId&lt;-walComps %&gt;% 
  filter(str_detect(ref,&quot;forecasting&quot;)) %&gt;% 
  pull(id)

forId</code></pre>
<pre><code>## [1] 3816</code></pre>
<p>Now I can see what data files are available for the competition (at the Id number)</p>
<pre class="r"><code>#get data list
dataList&lt;-kgl_competitions_data_list(forId)

kable(dataList) %&gt;% 
  kableExtra::kable_styling(font_size = 11)</code></pre>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ref
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:right;">
totalBytes
</th>
<th style="text-align:left;">
url
</th>
<th style="text-align:left;">
creationDate
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
features.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
features.csv.zip
</td>
<td style="text-align:right;">
161700
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:04Z
</td>
</tr>
<tr>
<td style="text-align:left;">
sampleSubmission.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
sampleSubmission.csv.zip
</td>
<td style="text-align:right;">
225538
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/sampleSubmission.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/sampleSubmission.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:09Z
</td>
</tr>
<tr>
<td style="text-align:left;">
stores.csv
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
stores.csv
</td>
<td style="text-align:right;">
532
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/stores.csv" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/stores.csv</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:14Z
</td>
</tr>
<tr>
<td style="text-align:left;">
test.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
test.csv.zip
</td>
<td style="text-align:right;">
240940
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/test.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/test.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:23Z
</td>
</tr>
<tr>
<td style="text-align:left;">
train.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
train.csv.zip
</td>
<td style="text-align:right;">
2587161
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/train.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/train.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:28Z
</td>
</tr>
</tbody>
</table>
<p>The following PowerShell CMD can be used to download files</p>
<div class="figure">
<img src="snip.png" alt="Caption for the picture." />
<p class="caption">Caption for the picture.</p>
</div>
