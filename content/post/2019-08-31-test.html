---
title: Using Kaggle API
author: ''
date: '2018-08-31'
slug: test
categories: []
tags: []
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<p>Although there are many resources explaining how to use the Kaggle API for Python (for which it was developed), I could not find much information about using it from Rstudio. Therefore, in this post I will explain how to use the kaggle API via kaggler.</p>
<div id="installing-packages" class="section level2">
<h2>Installing packages</h2>
<pre class="r"><code>#devtools::install_github(&quot;mkearney/kaggler&quot;)
library(kaggler)
library(tidyverse)
library(kableExtra)
library(knitr)
library(plotly)</code></pre>
<p>Once your your key is recorded, you can search for competitions by name (or any keyword such as “classification”)
Here, I search for Walmart because I want the stores forecasting dataset</p>
<pre class="r"><code>walComps&lt;-kgl_competitions_list(search = &quot;Walmart&quot;)

kable(walComps %&gt;% select(ref,title,description,url)) %&gt;%
  kable_styling(font_size =9 )</code></pre>
<table class="table" style="font-size: 9px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ref
</th>
<th style="text-align:left;">
title
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
url
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
walmart-recruiting-trip-type-classification
</td>
<td style="text-align:left;">
Walmart Recruiting: Trip Type Classification
</td>
<td style="text-align:left;">
Use market basket analysis to classify shopping trips
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-trip-type-classification" class="uri">https://www.kaggle.com/c/walmart-recruiting-trip-type-classification</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
walmart-recruiting-store-sales-forecasting
</td>
<td style="text-align:left;">
Walmart Recruiting - Store Sales Forecasting
</td>
<td style="text-align:left;">
Use historical markdown data to predict store sales
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
walmart-recruiting-sales-in-stormy-weather
</td>
<td style="text-align:left;">
Walmart Recruiting II: Sales in Stormy Weather
</td>
<td style="text-align:left;">
Predict how sales of weather-sensitive products are affected by snow and rain
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-sales-in-stormy-weather" class="uri">https://www.kaggle.com/c/walmart-recruiting-sales-in-stormy-weather</a>
</td>
</tr>
</tbody>
</table>
<p>To download the data, I need the id column entry for the forecasting dataset</p>
<pre class="r"><code>#get id for forecasting dataset
forId&lt;-walComps %&gt;% 
  filter(str_detect(ref,&quot;forecasting&quot;)) %&gt;% 
  pull(id)

forId</code></pre>
<pre><code>## [1] 3816</code></pre>
<p>Now I can see what data files are available for the competition (at the Id number)</p>
<pre class="r"><code>#get data list
dataList&lt;-kgl_competitions_data_list(forId)

kable(dataList) %&gt;% 
  kableExtra::kable_styling(font_size = 11)</code></pre>
<table class="table" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ref
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:right;">
totalBytes
</th>
<th style="text-align:left;">
url
</th>
<th style="text-align:left;">
creationDate
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
features.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
features.csv.zip
</td>
<td style="text-align:right;">
161700
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:04Z
</td>
</tr>
<tr>
<td style="text-align:left;">
sampleSubmission.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
sampleSubmission.csv.zip
</td>
<td style="text-align:right;">
225538
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/sampleSubmission.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/sampleSubmission.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:09Z
</td>
</tr>
<tr>
<td style="text-align:left;">
stores.csv
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
stores.csv
</td>
<td style="text-align:right;">
532
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/stores.csv" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/stores.csv</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:14Z
</td>
</tr>
<tr>
<td style="text-align:left;">
test.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
test.csv.zip
</td>
<td style="text-align:right;">
240940
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/test.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/test.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:23Z
</td>
</tr>
<tr>
<td style="text-align:left;">
train.csv.zip
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
train.csv.zip
</td>
<td style="text-align:right;">
2587161
</td>
<td style="text-align:left;">
<a href="https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/train.csv.zip" class="uri">https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/train.csv.zip</a>
</td>
<td style="text-align:left;">
2014-02-03T19:56:28Z
</td>
</tr>
</tbody>
</table>
<p>The files can be downloaded by clicking the above urls or by using the following PowerShell CMD</p>
<pre class="r"><code># $Credentials = Get-Credential
# Invoke-WebRequest -Uri &quot;https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip&quot; -OutFile &quot;C:/Users/username/R projects/projectname/features.csv&quot; -Credential $Credentials</code></pre>
</div>
