---
title: Using Kaggle API
author: ''
date: '2018-08-31'
slug: test
categories: []
tags: []
---
Although there are many resources explaining how to use the Kaggle API for Python (for which it was developed), I could not find much information about using it from Rstudio. Therefore, in this post I will explain how to use the kaggle API via kaggler.


## Installing packages

```{r message=FALSE, warning=FALSE}
#devtools::install_github("mkearney/kaggler")
library(kaggler)
library(tidyverse)
library(kableExtra)
library(knitr)
library(plotly)
```


```{r include=FALSE}
kgl_auth(username = "mikaylaedwards", key = "5e9d32485455a485c3aaf2b94eee33a0")
```

Once your your key is recorded, you can search for competitions by name (or any keyword such as "classification")
Here, I search for Walmart because I want the stores forecasting dataset
```{r fig.height=7, fig.width=5, paged.print=FALSE}
walComps<-kgl_competitions_list(search = "Walmart")

kable(walComps %>% select(ref,title,description,url,id)) %>%
  kable_styling(font_size =9 )
```

To download the data, I need the id column entry for the forecasting dataset
```{r}
#get id for forecasting dataset
forId<-walComps %>% 
  filter(str_detect(ref,"forecasting")) %>% 
  pull(id)

forId

```

Now I can see what data files are available for the competition (at the Id number)
```{r}
#get data list
dataList<-kgl_competitions_data_list(forId)

kable(dataList) %>% 
  kableExtra::kable_styling(font_size = 11)

```

The files can be downloaded by clicking the above urls or by using the following PowerShell CMD 

```{r}
# $Credentials = Get-Credential
# Invoke-WebRequest -Uri "https://www.kaggle.com/c/walmart-recruiting-store-sales-forecasting/download/features.csv.zip" -OutFile "C:/Users/username/R projects/projectname/features.csv" -Credential $Credentials
```


```{r}

```




